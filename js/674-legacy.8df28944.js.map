{"version":3,"file":"js/674-legacy.8df28944.js","mappings":"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","sources":["webpack://vendo/./src/views/Timezone.vue","webpack://vendo/./node_modules/v-calendar/lib/esm/index.js","webpack://vendo/./src/views/Timezone.vue?5e79","webpack://vendo/./node_modules/v-calendar/lib/esm/index-fcd0222c.js","webpack://vendo/./node_modules/v-calendar/lib/esm/style-inject.es-1f59c1d0.js"],"sourcesContent":["<template>\n    <div class=\"container grid grid-cols-2 gap-4\">\n        <div class=\"config\">\n            <label for=\"active-day-reference\">Active Day Reference (start)</label>\n            <DatePicker v-model=\"activeDayReference\">\n                <template v-slot=\"{ inputValue, inputEvents }\">\n                    <input\n                        id=\"active-day-reference\"\n                        :value=\"inputValue\"\n                        v-on=\"inputEvents\" />\n                </template>\n            </DatePicker>\n            <label for=\"active-day-mask\">Active Day Mask (base64)</label>\n            <input\n                id=\"active-day-mask\"\n                ref=\"activeDayMask\"\n                v-model=\"activeDayMask\"\n                type=\"text\" />\n            <fieldset class=\"border p-2\" :disabled=\"!activeDayCountEnabled || null\">\n                <legend class=\"px-2 py-1 border\">\n                    <input id=\"active-day-count\" type=\"checkbox\" v-model=\"activeDayCountEnabled\" class=\"inline w-auto m-0 mr-1\">\n                    <label for=\"active-day-count\" class=\"inline\">Active Day Count</label>\n                </legend>\n                <label for=\"active-day-count-first\">First</label>\n                <DatePicker v-model=\"activeDayCountFirst\">\n                    <template v-slot=\"{ inputValue, inputEvents }\">\n                        <input\n                            id=\"active-day-count-first\"\n                            :value=\"inputValue\"\n                            v-on=\"inputEvents\" />\n                    </template>\n                </DatePicker>\n                <label for=\"active-day-count-period\">Count</label>\n                <input\n                    id=\"active-day-count-period\"\n                    v-model=\"activeDayCountCount\"\n                    type=\"number\" />\n                <label for=\"active-day-count-stride\">Stride</label>\n                <input\n                    id=\"active-day-count-stride\"\n                    v-model=\"activeDayCountStride\"\n                    type=\"number\"\n                    min=\"1\" />\n                <label for=\"active-day-count-window\">Window</label>\n                <input\n                    id=\"active-day-count-window\"\n                    v-model=\"activeDayCountWindow\"\n                    type=\"number\" />\n            </fieldset>\n        </div>\n        <Calendar\n            class=\"mx-auto\"\n            :attributes=\"attributes\"\n            @dayclick=\"onDayClick\" />\n    </div>\n</template>\n\n<script>\nimport { Calendar, DatePicker } from 'v-calendar';\n\nfunction daysBetween(to, from) {\n    return Math.round((to - from) / 86400000);\n}\n\nfunction sortedIndex(array, date) {\n    let low = 0;\n    let high = array.length;\n\n    while (low < high) {\n        const mid = (low + high) >>> 1;\n        if (array[mid].getTime() < date.getTime()) {\n            low = mid + 1;\n        } else {\n            high = mid;\n        }\n    }\n\n    return low;\n}\n\nfunction convertListToMask(list) {\n    const rawMask = list.reduce((acc, curr, idx, arr) => {\n        if (idx !== 0) {\n            const prev = arr[idx - 1];\n            acc = acc.concat(Array(daysBetween(curr, prev) - 1).fill(0));\n        }\n        acc.push(1);\n        return acc;\n    }, []);\n\n    let str = '';\n    for (let i = 0; i < rawMask.length; i += 8) {\n        str += String.fromCharCode(parseInt(rawMask.slice(i, i + 8).reverse().join(''), 2));\n    }\n\n    return btoa(str);\n}\n\nexport default {\n    components: {\n        Calendar,\n        DatePicker\n    },\n    data() {\n        return {\n            activeDayReference: new Date(new Date().toDateString()),\n            activeDayMask: '',\n            activeDayCountEnabled: false,\n            activeDayCountFirst: new Date(new Date().toDateString()),\n            activeDayCountCount: 5,\n            activeDayCountStride: 2,\n            activeDayCountWindow: 4\n        };\n    },\n    computed: {\n        rawMask() {\n            try {\n                return atob(this.activeDayMask).split('').flatMap(\n                    c => c.charCodeAt(0).toString(2).padStart(8, '0').split('').reverse().map(d => parseInt(d))\n                );\n            } catch (error) {\n                return [];\n            }\n        },\n        activeDayList() {\n            return this.rawMask.reduce((acc, curr, idx) => {\n                if (curr) {\n                    const newDate = new Date(this.activeDayReference);\n                    newDate.setDate(newDate.getDate() + idx);\n                    acc.push(newDate);\n                }\n                return acc;\n            }, []);\n        },\n        activeDayCountList() {\n            if (!this.activeDayCountEnabled || this.activeDayCountStride < 0) {\n                return [];\n            }\n\n            let startIndex = daysBetween(this.activeDayCountFirst, this.activeDayReference);\n            let endIndex = startIndex + this.activeDayCountCount * this.activeDayCountStride;\n            if (startIndex > endIndex) { // Accounting for negative counts (taking windows from before the first date)\n                [startIndex, endIndex] = [endIndex, startIndex];\n            }\n\n            const acc = [];\n\n            for (\n                let maskIndex = startIndex;\n                maskIndex < endIndex;\n                maskIndex += this.activeDayCountStride\n            ) {\n                let sliceEnd = Math.min(maskIndex + 1, this.rawMask.length);\n                let sliceStart = Math.max(maskIndex + 1 - this.activeDayCountWindow, 0);\n                if (sliceStart > sliceEnd) { // Accounting for negative window sizes (forward-looking windows)\n                    [sliceStart, sliceEnd] = [sliceEnd, sliceStart];\n                }\n                if (sliceEnd <= 0 || sliceStart >= this.rawMask.length) {\n                    continue;\n                }\n\n                const activeCount = this.rawMask.slice(sliceStart, sliceEnd).reduce((a, b) => a + b, 0);\n                if (activeCount) {\n                    const newDate = new Date(this.activeDayReference);\n                    newDate.setDate(newDate.getDate() + maskIndex);\n                    acc.push(newDate);\n                }\n            }\n\n            return acc;\n        },\n        attributes() {\n            if (this.activeDayList.length === 0) return [];\n            return [\n                {\n                    key: 'range',\n                    highlight: {\n                        color: 'pink',\n                        fillMode: 'light'\n                    },\n                    dates: {\n                        start: this.activeDayList[0],\n                        end: this.activeDayList[this.activeDayList.length - 1]\n                    }\n                },\n                {\n                    key: 'dates',\n                    highlight: 'pink',\n                    dates: this.activeDayList\n                },\n                {\n                    key: 'count-agg',\n                    dot: 'gray',\n                    dates: this.activeDayCountList\n                }\n            ];\n        }\n    },\n    watch: {\n        activeDayMask(value) {\n            try {\n                atob(value);\n                this.$refs.activeDayMask.setCustomValidity('');\n            } catch (error) {\n                this.$refs.activeDayMask.setCustomValidity('Invalid Base64 string');\n            }\n        }\n    },\n    methods: {\n        onDayClick(day) {\n            const dateList = this.activeDayList;\n            const { date } = day;\n            const idx = sortedIndex(dateList, date);\n            if (dateList[idx] && dateList[idx].getTime() === date.getTime()) {\n                dateList.splice(idx, 1);\n            } else {\n                dateList.splice(idx, 0, date);\n            }\n\n            if (dateList.length && idx === 0) {\n                this.activeDayReference = dateList[0];\n            }\n\n            this.activeDayMask = convertListToMask(dateList);\n        }\n    }\n};\n</script>\n","import { i as isArrayLike_1, _ as _baseEach, a as _baseIteratee, b as isArray_1, c as _arrayMap, d as isArrayLikeObject_1, h as has, g as get_1, e as defaultsDeep_1, f as isFunction_1 } from './helpers-8d5d752d.js';\nimport { reactive } from 'vue';\nimport { i as isString_1, d as defaultScreens, a as isUndefined_1, m as mapValues_1, t as toPairs_1, s as setup$1 } from './index-fcd0222c.js';\nimport { s as script } from './Calendar.vue_vue&type=style&index=0&id=ca44deaa&lang-4bd03b76.js';\nexport { s as Calendar } from './Calendar.vue_vue&type=style&index=0&id=ca44deaa&lang-4bd03b76.js';\nimport '@popperjs/core';\nimport './CalendarPane.vue_vue&type=style&index=0&id=bf16a152&lang-d223e4a0.js';\nimport './CalendarNav-c0eed85e.js';\nimport { s as script$2 } from './Popover.vue_vue&type=style&index=0&id=0652eeb9&lang-c768a42a.js';\nexport { s as Popover } from './Popover.vue_vue&type=style&index=0&id=0652eeb9&lang-c768a42a.js';\nimport './CustomTransition.js';\nimport './style-inject.es-1f59c1d0.js';\nimport script$3 from './PopoverRow.js';\nexport { default as PopoverRow } from './PopoverRow.js';\nimport './SvgIcon.js';\nimport './CalendarDay.vue_vue&type=style&index=0&id=07b52efe&lang-c93ef64c.js';\nimport './TimeSelect.js';\nimport './TimePicker.js';\nimport { s as script$1 } from './DatePicker.vue_vue&type=script&lang-1f6c1e20.js';\nexport { s as DatePicker } from './DatePicker.vue_vue&type=script&lang-1f6c1e20.js';\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike_1(collection) ? Array(collection.length) : [];\n\n  _baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nvar _baseMap = baseMap;\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray_1(collection) ? _arrayMap : _baseMap;\n  return func(collection, _baseIteratee(iteratee));\n}\n\nvar map_1 = map;\n\nvar components = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Calendar: script,\n  DatePicker: script$1,\n  Popover: script$2,\n  PopoverRow: script$3\n});\n\n// This function gratuitously borrowed from TailwindCSS\r\n// https://github.com/tailwindcss/tailwindcss/blob/master/src/util/buildMediaQuery.js\r\nfunction buildMediaQuery(screens) {\r\n    // Default min width\r\n    if (isString_1(screens)) {\r\n        screens = { min: screens };\r\n    }\r\n    // Wrap in array\r\n    if (!isArrayLikeObject_1(screens)) {\r\n        screens = [screens];\r\n    }\r\n    return screens\r\n        .map((screen) => {\r\n        if (has(screen, 'raw')) {\r\n            return screen.raw;\r\n        }\r\n        return map_1(screen, (value, feature) => {\r\n            feature = get_1({\r\n                min: 'min-width',\r\n                max: 'max-width',\r\n            }, feature, feature);\r\n            return `(${feature}: ${value})`;\r\n        }).join(' and ');\r\n    })\r\n        .join(', ');\r\n}\n\nvar screensPlugin = {\r\n    install: (app, screens) => {\r\n        screens = defaultsDeep_1(screens, window && window.__screens__, defaultScreens);\r\n        let shouldRefreshQueries = true;\r\n        const state = reactive({\r\n            matches: [],\r\n            queries: [],\r\n        });\r\n        const refreshMatches = () => {\r\n            state.matches = toPairs_1(state.queries)\r\n                .filter((p) => p[1].matches)\r\n                .map((p) => p[0]);\r\n        };\r\n        const refreshQueries = () => {\r\n            if (!shouldRefreshQueries || !window || !window.matchMedia)\r\n                return;\r\n            state.queries = mapValues_1(screens, (v) => {\r\n                const query = window.matchMedia(buildMediaQuery(v));\r\n                if (isFunction_1(query.addEventListener)) {\r\n                    query.addEventListener('change', refreshMatches);\r\n                }\r\n                else {\r\n                    // Deprecated 'MediaQueryList' API, < Safari 14, < Edge 16\r\n                    query.addListener(refreshMatches);\r\n                }\r\n                return query;\r\n            });\r\n            shouldRefreshQueries = false;\r\n            refreshMatches();\r\n        };\r\n        // Global mixin that\r\n        // 1) Refreshes queries on first component mount\r\n        // 2) Provides '$screens' utility method that refreshes any time the screen matches update\r\n        app.mixin({\r\n            mounted() {\r\n                refreshQueries();\r\n            },\r\n            computed: {\r\n                $screens() {\r\n                    return (config, def) => state.matches.reduce((prev, curr) => (has(config, curr) ? config[curr] : prev), isUndefined_1(def) ? config.default : def);\r\n                },\r\n            },\r\n        });\r\n    },\r\n};\n\nvar setup = (app, defaults) => {\r\n    // Setup defaults\r\n    defaults = setup$1(defaults);\r\n    // Use screens plugin\r\n    app.use(screensPlugin, defaults.screens);\r\n    return defaults;\r\n};\n\nconst install = (app, defaults) => {\r\n    defaults = setup(app, defaults);\r\n    for (const componentKey in components) {\r\n        const component = components[componentKey];\r\n        app.component(`${defaults.componentPrefix}${component.name}`, component);\r\n    }\r\n};\n\nexport default install;\nexport { screensPlugin as Screens, setup as SetupCalendar };\n","import { render } from \"./Timezone.vue?vue&type=template&id=1bd39708\"\nimport script from \"./Timezone.vue?vue&type=script&lang=js\"\nexport * from \"./Timezone.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { J as isObjectLike_1, K as _baseGetTag, b as isArray_1, L as isSymbol_1, M as isObject_1, N as _baseSet, a as _baseIteratee, O as _baseForOwn, P as _baseAssignValue, c as _arrayMap, Q as _getTag, R as _mapToArray, S as keys_1, j as _createClass, n as _objectSpread2, w as isObject, A as hasAny, T as defaults_1, z as _slicedToArray, h as has, k as _classCallCheck, f as isFunction_1, d as isArrayLikeObject_1, U as mixinOptionalProps, l as arrayHasItems, v as isDate, V as pick_1, W as pad, x as addPages, e as defaultsDeep_1, o as createGuid, X as some, g as get_1 } from './helpers-8d5d752d.js';\nimport { reactive, computed } from 'vue';\n\nfunction toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n\n  var number = Number(dirtyNumber);\n\n  if (isNaN(number)) {\n    return number;\n  }\n\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}\n\nfunction requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nfunction toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of days to be added. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the days added\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * var result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\n\nfunction addDays(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var amount = toInteger(dirtyAmount);\n\n  if (isNaN(amount)) {\n    return new Date(NaN);\n  }\n\n  if (!amount) {\n    // If 0 days, no-op to avoid changing times in the hour before end of DST\n    return date;\n  }\n\n  date.setDate(date.getDate() + amount);\n  return date;\n}\n\n/** `Object#toString` result references. */\nvar numberTag = '[object Number]';\n\n/**\n * Checks if `value` is classified as a `Number` primitive or object.\n *\n * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n * classified as numbers, use the `_.isFinite` method.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n * @example\n *\n * _.isNumber(3);\n * // => true\n *\n * _.isNumber(Number.MIN_VALUE);\n * // => true\n *\n * _.isNumber(Infinity);\n * // => true\n *\n * _.isNumber('3');\n * // => false\n */\nfunction isNumber(value) {\n  return typeof value == 'number' ||\n    (isObjectLike_1(value) && _baseGetTag(value) == numberTag);\n}\n\nvar isNumber_1 = isNumber;\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray_1(value) && isObjectLike_1(value) && _baseGetTag(value) == stringTag);\n}\n\nvar isString_1 = isString;\n\n/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nvar isUndefined_1 = isUndefined;\n\n/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nvar _baseClamp = baseClamp;\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol_1(value)) {\n    return NAN;\n  }\n  if (isObject_1(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject_1(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nvar toNumber_1 = toNumber;\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber_1(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber_1(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return _baseClamp(toNumber_1(number), lower, upper);\n}\n\nvar clamp_1 = clamp;\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : _baseSet(object, path, value);\n}\n\nvar set_1 = set;\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = _baseIteratee(iteratee);\n\n  _baseForOwn(object, function(value, key, object) {\n    _baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nvar mapValues_1 = mapValues;\n\n/**\n * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n * of key-value pairs for `object` corresponding to the property names of `props`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} props The property names to get values for.\n * @returns {Object} Returns the key-value pairs.\n */\nfunction baseToPairs(object, props) {\n  return _arrayMap(props, function(key) {\n    return [key, object[key]];\n  });\n}\n\nvar _baseToPairs = baseToPairs;\n\n/**\n * Converts `set` to its value-value pairs.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the value-value pairs.\n */\nfunction setToPairs(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = [value, value];\n  });\n  return result;\n}\n\nvar _setToPairs = setToPairs;\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/**\n * Creates a `_.toPairs` or `_.toPairsIn` function.\n *\n * @private\n * @param {Function} keysFunc The function to get the keys of a given object.\n * @returns {Function} Returns the new pairs function.\n */\nfunction createToPairs(keysFunc) {\n  return function(object) {\n    var tag = _getTag(object);\n    if (tag == mapTag) {\n      return _mapToArray(object);\n    }\n    if (tag == setTag) {\n      return _setToPairs(object);\n    }\n    return _baseToPairs(object, keysFunc(object));\n  };\n}\n\nvar _createToPairs = createToPairs;\n\n/**\n * Creates an array of own enumerable string keyed-value pairs for `object`\n * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n * entries are returned.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias entries\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the key-value pairs.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.toPairs(new Foo);\n * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n */\nvar toPairs = _createToPairs(keys_1);\n\nvar toPairs_1 = toPairs;\n\nvar childMixin = {\n  inject: ['sharedState'],\n  computed: {\n    masks: function masks() {\n      return this.sharedState.masks;\n    },\n    theme: function theme() {\n      return this.sharedState.theme;\n    },\n    locale: function locale() {\n      return this.sharedState.locale;\n    },\n    dayPopoverId: function dayPopoverId() {\n      return this.sharedState.dayPopoverId;\n    }\n  },\n  methods: {\n    format: function format(date, mask) {\n      return this.locale.format(date, mask);\n    },\n    pageForDate: function pageForDate(date) {\n      return this.locale.getDateParts(this.locale.normalizeDate(date));\n    }\n  }\n};\n\nvar targetProps = ['base', 'start', 'end', 'startEnd'];\nvar displayProps = ['class', 'contentClass', 'style', 'contentStyle', 'color', 'fillMode'];\nvar defConfig = {\n  color: 'blue',\n  isDark: false,\n  highlight: {\n    base: {\n      fillMode: 'light'\n    },\n    start: {\n      fillMode: 'solid'\n    },\n    end: {\n      fillMode: 'solid'\n    }\n  },\n  dot: {\n    base: {\n      fillMode: 'solid'\n    },\n    start: {\n      fillMode: 'solid'\n    },\n    end: {\n      fillMode: 'solid'\n    }\n  },\n  bar: {\n    base: {\n      fillMode: 'solid'\n    },\n    start: {\n      fillMode: 'solid'\n    },\n    end: {\n      fillMode: 'solid'\n    }\n  },\n  content: {\n    base: {},\n    start: {},\n    end: {}\n  }\n};\n\nvar Theme = /*#__PURE__*/function () {\n  function Theme(config) {\n    _classCallCheck(this, Theme);\n\n    Object.assign(this, defConfig, config);\n  } // Normalizes attribute config to the structure defined by the properties\n\n\n  _createClass(Theme, [{\n    key: \"normalizeAttr\",\n    value: function normalizeAttr(_ref) {\n      var config = _ref.config,\n          type = _ref.type;\n      var rootColor = this.color;\n      var root = {}; // Get the normalized root config\n\n      var normAttr = this[type];\n\n      if (config === true || isString_1(config)) {\n        // Assign default color for booleans or strings\n        rootColor = isString_1(config) ? config : rootColor; // Set the default root\n\n        root = _objectSpread2({}, normAttr);\n      } else if (isObject(config)) {\n        if (hasAny(config, targetProps)) {\n          // Mixin target configs\n          root = _objectSpread2({}, config);\n        } else {\n          // Mixin display configs\n          root = {\n            base: _objectSpread2({}, config),\n            start: _objectSpread2({}, config),\n            end: _objectSpread2({}, config)\n          };\n        }\n      } else {\n        return null;\n      } // Fill in missing targets\n\n\n      defaults_1(root, {\n        start: root.startEnd,\n        end: root.startEnd\n      }, normAttr); // Normalize each target\n\n      toPairs_1(root).forEach(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            targetType = _ref3[0],\n            targetConfig = _ref3[1];\n\n        var targetColor = rootColor;\n\n        if (targetConfig === true || isString_1(targetConfig)) {\n          targetColor = isString_1(targetConfig) ? targetConfig : targetColor;\n          root[targetType] = {\n            color: targetColor\n          };\n        } else if (isObject(targetConfig)) {\n          if (hasAny(targetConfig, displayProps)) {\n            root[targetType] = _objectSpread2({}, targetConfig);\n          } else {\n            root[targetType] = {};\n          }\n        } // Set the theme color if it is missing\n\n\n        if (!has(root, \"\".concat(targetType, \".color\"))) {\n          set_1(root, \"\".concat(targetType, \".color\"), targetColor);\n        }\n      });\n      return root;\n    }\n  }, {\n    key: \"normalizeHighlight\",\n    value: function normalizeHighlight(config) {\n      var _this = this;\n\n      var highlight = this.normalizeAttr({\n        config: config,\n        type: 'highlight'\n      }); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n      toPairs_1(highlight).forEach(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            _ = _ref5[0],\n            targetConfig = _ref5[1];\n\n        var c = defaults_1(targetConfig, {\n          isDark: _this.isDark,\n          color: _this.color\n        });\n        targetConfig.style = _objectSpread2(_objectSpread2({}, _this.getHighlightBgStyle(c)), targetConfig.style);\n        targetConfig.contentStyle = _objectSpread2(_objectSpread2({}, _this.getHighlightContentStyle(c)), targetConfig.contentStyle);\n      });\n      return highlight;\n    }\n  }, {\n    key: \"getHighlightBgStyle\",\n    value: function getHighlightBgStyle(_ref6) {\n      var fillMode = _ref6.fillMode,\n          color = _ref6.color,\n          isDark = _ref6.isDark;\n\n      switch (fillMode) {\n        case 'outline':\n        case 'none':\n          return {\n            backgroundColor: isDark ? 'var(--gray-900)' : 'var(--white)',\n            border: '2px solid',\n            borderColor: isDark ? \"var(--\".concat(color, \"-200)\") : \"var(--\".concat(color, \"-700)\"),\n            borderRadius: 'var(--rounded-full)'\n          };\n\n        case 'light':\n          return {\n            backgroundColor: isDark ? \"var(--\".concat(color, \"-800)\") : \"var(--\".concat(color, \"-200)\"),\n            opacity: isDark ? 0.75 : 1,\n            borderRadius: 'var(--rounded-full)'\n          };\n\n        case 'solid':\n          return {\n            backgroundColor: isDark ? \"var(--\".concat(color, \"-500)\") : \"var(--\".concat(color, \"-600)\"),\n            borderRadius: 'var(--rounded-full)'\n          };\n\n        default:\n          return {\n            borderRadius: 'var(--rounded-full)'\n          };\n      }\n    }\n  }, {\n    key: \"getHighlightContentStyle\",\n    value: function getHighlightContentStyle(_ref7) {\n      var fillMode = _ref7.fillMode,\n          color = _ref7.color,\n          isDark = _ref7.isDark;\n\n      switch (fillMode) {\n        case 'outline':\n        case 'none':\n          return {\n            fontWeight: 'var(--font-bold)',\n            color: isDark ? \"var(--\".concat(color, \"-100)\") : \"var(--\".concat(color, \"-900)\")\n          };\n\n        case 'light':\n          return {\n            fontWeight: 'var(--font-bold)',\n            color: isDark ? \"var(--\".concat(color, \"-100)\") : \"var(--\".concat(color, \"-900)\")\n          };\n\n        case 'solid':\n          return {\n            fontWeight: 'var(--font-bold)',\n            color: 'var(--white)'\n          };\n\n        default:\n          return '';\n      }\n    }\n  }, {\n    key: \"bgAccentHigh\",\n    value: function bgAccentHigh(_ref8) {\n      var color = _ref8.color,\n          isDark = _ref8.isDark;\n      return {\n        backgroundColor: isDark ? \"var(--\".concat(color, \"-500)\") : \"var(--\".concat(color, \"-600)\")\n      };\n    }\n  }, {\n    key: \"contentAccent\",\n    value: function contentAccent(_ref9) {\n      var color = _ref9.color,\n          isDark = _ref9.isDark;\n      if (!color) return null;\n      return {\n        fontWeight: 'var(--font-bold)',\n        color: isDark ? \"var(--\".concat(color, \"-100)\") : \"var(--\".concat(color, \"-900)\")\n      };\n    }\n  }, {\n    key: \"normalizeDot\",\n    value: function normalizeDot(config) {\n      return this.normalizeNonHighlight('dot', config, this.bgAccentHigh);\n    }\n  }, {\n    key: \"normalizeBar\",\n    value: function normalizeBar(config) {\n      return this.normalizeNonHighlight('bar', config, this.bgAccentHigh);\n    }\n  }, {\n    key: \"normalizeContent\",\n    value: function normalizeContent(config) {\n      return this.normalizeNonHighlight('content', config, this.contentAccent);\n    }\n  }, {\n    key: \"normalizeNonHighlight\",\n    value: function normalizeNonHighlight(type, config, styleFn) {\n      var _this2 = this;\n\n      var attr = this.normalizeAttr({\n        type: type,\n        config: config\n      }); // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n      toPairs_1(attr).forEach(function (_ref10) {\n        var _ref11 = _slicedToArray(_ref10, 2),\n            _ = _ref11[0],\n            targetConfig = _ref11[1];\n\n        defaults_1(targetConfig, {\n          isDark: _this2.isDark,\n          color: _this2.color\n        });\n        targetConfig.style = _objectSpread2(_objectSpread2({}, styleFn(targetConfig)), targetConfig.style);\n      });\n      return attr;\n    }\n  }]);\n\n  return Theme;\n}();\n\nvar MILLISECONDS_IN_MINUTE = 60000;\n\nfunction getDateMillisecondsPart(date) {\n  return date.getTime() % MILLISECONDS_IN_MINUTE;\n}\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\n\n\nfunction getTimezoneOffsetInMilliseconds(dirtyDate) {\n  var date = new Date(dirtyDate.getTime());\n  var baseTimezoneOffset = Math.ceil(date.getTimezoneOffset());\n  date.setSeconds(0, 0);\n  var hasNegativeUTCOffset = baseTimezoneOffset > 0;\n  var millisecondsPartOfTimezoneOffset = hasNegativeUTCOffset ? (MILLISECONDS_IN_MINUTE + getDateMillisecondsPart(date)) % MILLISECONDS_IN_MINUTE : getDateMillisecondsPart(date);\n  return baseTimezoneOffset * MILLISECONDS_IN_MINUTE + millisecondsPartOfTimezoneOffset;\n}\n\n/**\n * Returns the [year, month, day, hour, minute, seconds] tokens of the provided\n * `date` as it will be rendered in the `timeZone`.\n */\nfunction tzTokenizeDate(date, timeZone) {\n  var dtf = getDateTimeFormat(timeZone);\n  return dtf.formatToParts ? partsOffset(dtf, date) : hackyOffset(dtf, date)\n}\n\nvar typeToPos = {\n  year: 0,\n  month: 1,\n  day: 2,\n  hour: 3,\n  minute: 4,\n  second: 5\n};\n\nfunction partsOffset(dtf, date) {\n  var formatted = dtf.formatToParts(date);\n  var filled = [];\n  for (var i = 0; i < formatted.length; i++) {\n    var pos = typeToPos[formatted[i].type];\n\n    if (pos >= 0) {\n      filled[pos] = parseInt(formatted[i].value, 10);\n    }\n  }\n  return filled\n}\n\nfunction hackyOffset(dtf, date) {\n  var formatted = dtf.format(date).replace(/\\u200E/g, '');\n  var parsed = /(\\d+)\\/(\\d+)\\/(\\d+),? (\\d+):(\\d+):(\\d+)/.exec(formatted);\n  // var [, fMonth, fDay, fYear, fHour, fMinute, fSecond] = parsed\n  // return [fYear, fMonth, fDay, fHour, fMinute, fSecond]\n  return [parsed[3], parsed[1], parsed[2], parsed[4], parsed[5], parsed[6]]\n}\n\n// Get a cached Intl.DateTimeFormat instance for the IANA `timeZone`. This can be used\n// to get deterministic local date/time output according to the `en-US` locale which\n// can be used to extract local time parts as necessary.\nvar dtfCache = {};\nfunction getDateTimeFormat(timeZone) {\n  if (!dtfCache[timeZone]) {\n    // New browsers use `hourCycle`, IE and Chrome <73 does not support it and uses `hour12`\n    var testDateFormatted = new Intl.DateTimeFormat('en-US', {\n      hour12: false,\n      timeZone: 'America/New_York',\n      year: 'numeric',\n      month: '2-digit',\n      day: '2-digit',\n      hour: '2-digit',\n      minute: '2-digit',\n      second: '2-digit'\n    }).format(new Date('2014-06-25T04:00:00.123Z'));\n    var hourCycleSupported =\n      testDateFormatted === '06/25/2014, 00:00:00' ||\n      testDateFormatted === '‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00';\n\n    dtfCache[timeZone] = hourCycleSupported\n      ? new Intl.DateTimeFormat('en-US', {\n          hour12: false,\n          timeZone: timeZone,\n          year: 'numeric',\n          month: '2-digit',\n          day: '2-digit',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit'\n        })\n      : new Intl.DateTimeFormat('en-US', {\n          hourCycle: 'h23',\n          timeZone: timeZone,\n          year: 'numeric',\n          month: '2-digit',\n          day: '2-digit',\n          hour: '2-digit',\n          minute: '2-digit',\n          second: '2-digit'\n        });\n  }\n  return dtfCache[timeZone]\n}\n\nvar MILLISECONDS_IN_HOUR = 3600000;\nvar MILLISECONDS_IN_MINUTE$1 = 60000;\n\nvar patterns = {\n  timezone: /([Z+-].*)$/,\n  timezoneZ: /^(Z)$/,\n  timezoneHH: /^([+-])(\\d{2})$/,\n  timezoneHHMM: /^([+-])(\\d{2}):?(\\d{2})$/,\n  timezoneIANA: /(UTC|(?:[a-zA-Z]+\\/[a-zA-Z_]+(?:\\/[a-zA-Z_]+)?))$/\n};\n\n// Parse various time zone offset formats to an offset in milliseconds\nfunction tzParseTimezone(timezoneString, date) {\n  var token;\n  var absoluteOffset;\n\n  // Z\n  token = patterns.timezoneZ.exec(timezoneString);\n  if (token) {\n    return 0\n  }\n\n  var hours;\n\n  // ±hh\n  token = patterns.timezoneHH.exec(timezoneString);\n  if (token) {\n    hours = parseInt(token[2], 10);\n\n    if (!validateTimezone()) {\n      return NaN\n    }\n\n    absoluteOffset = hours * MILLISECONDS_IN_HOUR;\n    return token[1] === '+' ? -absoluteOffset : absoluteOffset\n  }\n\n  // ±hh:mm or ±hhmm\n  token = patterns.timezoneHHMM.exec(timezoneString);\n  if (token) {\n    hours = parseInt(token[2], 10);\n    var minutes = parseInt(token[3], 10);\n\n    if (!validateTimezone(hours, minutes)) {\n      return NaN\n    }\n\n    absoluteOffset =\n      hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE$1;\n    return token[1] === '+' ? -absoluteOffset : absoluteOffset\n  }\n\n  // IANA time zone\n  token = patterns.timezoneIANA.exec(timezoneString);\n  if (token) {\n    // var [fYear, fMonth, fDay, fHour, fMinute, fSecond] = tzTokenizeDate(date, timezoneString)\n    var tokens = tzTokenizeDate(date, timezoneString);\n    var asUTC = Date.UTC(\n      tokens[0],\n      tokens[1] - 1,\n      tokens[2],\n      tokens[3],\n      tokens[4],\n      tokens[5]\n    );\n    var timestampWithMsZeroed = date.getTime() - (date.getTime() % 1000);\n    return -(asUTC - timestampWithMsZeroed)\n  }\n\n  return 0\n}\n\nfunction validateTimezone(hours, minutes) {\n  if (minutes != null && (minutes < 0 || minutes > 59)) {\n    return false\n  }\n\n  return true\n}\n\nvar MILLISECONDS_IN_HOUR$1 = 3600000;\nvar MILLISECONDS_IN_MINUTE$2 = 60000;\nvar DEFAULT_ADDITIONAL_DIGITS = 2;\n\nvar patterns$1 = {\n  dateTimeDelimeter: /[T ]/,\n  plainTime: /:/,\n  timeZoneDelimeter: /[Z ]/i,\n\n  // year tokens\n  YY: /^(\\d{2})$/,\n  YYY: [\n    /^([+-]\\d{2})$/, // 0 additional digits\n    /^([+-]\\d{3})$/, // 1 additional digit\n    /^([+-]\\d{4})$/ // 2 additional digits\n  ],\n  YYYY: /^(\\d{4})/,\n  YYYYY: [\n    /^([+-]\\d{4})/, // 0 additional digits\n    /^([+-]\\d{5})/, // 1 additional digit\n    /^([+-]\\d{6})/ // 2 additional digits\n  ],\n\n  // date tokens\n  MM: /^-(\\d{2})$/,\n  DDD: /^-?(\\d{3})$/,\n  MMDD: /^-?(\\d{2})-?(\\d{2})$/,\n  Www: /^-?W(\\d{2})$/,\n  WwwD: /^-?W(\\d{2})-?(\\d{1})$/,\n\n  HH: /^(\\d{2}([.,]\\d*)?)$/,\n  HHMM: /^(\\d{2}):?(\\d{2}([.,]\\d*)?)$/,\n  HHMMSS: /^(\\d{2}):?(\\d{2}):?(\\d{2}([.,]\\d*)?)$/,\n\n  // timezone tokens (to identify the presence of a tz)\n  timezone: /([Z+-].*| UTC|(?:[a-zA-Z]+\\/[a-zA-Z_]+(?:\\/[a-zA-Z_]+)?))$/\n};\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If an argument is a string, the function tries to parse it.\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n * If the function cannot parse the string or the values are invalid, it returns Invalid Date.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n * All *date-fns* functions will throw `RangeError` if `options.additionalDigits` is not 0, 1, 2 or undefined.\n *\n * @param {Date|String|Number} argument - the value to convert\n * @param {OptionsWithTZ} [options] - the object with options. See [Options]{@link https://date-fns.org/docs/Options}\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @param {String} [options.timeZone=''] - used to specify the IANA time zone offset of a date String.\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = toDate('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * var result = toDate('+02014101', {additionalDigits: 1})\n * //=> Fri Apr 11 2014 00:00:00\n */\nfunction toDate$1(argument, dirtyOptions) {\n  if (arguments.length < 1) {\n    throw new TypeError(\n      '1 argument required, but only ' + arguments.length + ' present'\n    )\n  }\n\n  if (argument === null) {\n    return new Date(NaN)\n  }\n\n  var options = dirtyOptions || {};\n\n  var additionalDigits =\n    options.additionalDigits == null\n      ? DEFAULT_ADDITIONAL_DIGITS\n      : toInteger(options.additionalDigits);\n  if (\n    additionalDigits !== 2 &&\n    additionalDigits !== 1 &&\n    additionalDigits !== 0\n  ) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2')\n  }\n\n  // Clone the date\n  if (\n    argument instanceof Date ||\n    (typeof argument === 'object' &&\n      Object.prototype.toString.call(argument) === '[object Date]')\n  ) {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime())\n  } else if (\n    typeof argument === 'number' ||\n    Object.prototype.toString.call(argument) === '[object Number]'\n  ) {\n    return new Date(argument)\n  } else if (\n    !(\n      typeof argument === 'string' ||\n      Object.prototype.toString.call(argument) === '[object String]'\n    )\n  ) {\n    return new Date(NaN)\n  }\n\n  var dateStrings = splitDateString(argument);\n\n  var parseYearResult = parseYear(dateStrings.date, additionalDigits);\n  var year = parseYearResult.year;\n  var restDateString = parseYearResult.restDateString;\n\n  var date = parseDate(restDateString, year);\n\n  if (isNaN(date)) {\n    return new Date(NaN)\n  }\n\n  if (date) {\n    var timestamp = date.getTime();\n    var time = 0;\n    var offset;\n\n    if (dateStrings.time) {\n      time = parseTime(dateStrings.time);\n\n      if (isNaN(time)) {\n        return new Date(NaN)\n      }\n    }\n\n    if (dateStrings.timezone || options.timeZone) {\n      offset = tzParseTimezone(\n        dateStrings.timezone || options.timeZone,\n        new Date(timestamp + time)\n      );\n      if (isNaN(offset)) {\n        return new Date(NaN)\n      }\n      offset = tzParseTimezone(\n        dateStrings.timezone || options.timeZone,\n        new Date(timestamp + time + offset)\n      );\n      if (isNaN(offset)) {\n        return new Date(NaN)\n      }\n    } else {\n      // get offset accurate to hour in timezones that change offset\n      offset = getTimezoneOffsetInMilliseconds(new Date(timestamp + time));\n      offset = getTimezoneOffsetInMilliseconds(\n        new Date(timestamp + time + offset)\n      );\n    }\n\n    return new Date(timestamp + time + offset)\n  } else {\n    return new Date(NaN)\n  }\n}\n\nfunction splitDateString(dateString) {\n  var dateStrings = {};\n  var array = dateString.split(patterns$1.dateTimeDelimeter);\n  var timeString;\n\n  if (patterns$1.plainTime.test(array[0])) {\n    dateStrings.date = null;\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    dateStrings.timezone = array[2];\n    if (patterns$1.timeZoneDelimeter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns$1.timeZoneDelimeter)[0];\n      timeString = dateString.substr(dateStrings.date.length, dateString.length);\n    }\n  }\n\n  if (timeString) {\n    var token = patterns$1.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '');\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var patternYYY = patterns$1.YYY[additionalDigits];\n  var patternYYYYY = patterns$1.YYYYY[additionalDigits];\n\n  var token;\n\n  // YYYY or ±YYYYY\n  token = patterns$1.YYYY.exec(dateString) || patternYYYYY.exec(dateString);\n  if (token) {\n    var yearString = token[1];\n    return {\n      year: parseInt(yearString, 10),\n      restDateString: dateString.slice(yearString.length)\n    }\n  }\n\n  // YY or ±YYY\n  token = patterns$1.YY.exec(dateString) || patternYYY.exec(dateString);\n  if (token) {\n    var centuryString = token[1];\n    return {\n      year: parseInt(centuryString, 10) * 100,\n      restDateString: dateString.slice(centuryString.length)\n    }\n  }\n\n  // Invalid ISO-formatted year\n  return {\n    year: null\n  }\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) {\n    return null\n  }\n\n  var token;\n  var date;\n  var month;\n  var week;\n\n  // YYYY\n  if (dateString.length === 0) {\n    date = new Date(0);\n    date.setUTCFullYear(year);\n    return date\n  }\n\n  // YYYY-MM\n  token = patterns$1.MM.exec(dateString);\n  if (token) {\n    date = new Date(0);\n    month = parseInt(token[1], 10) - 1;\n\n    if (!validateDate(year, month)) {\n      return new Date(NaN)\n    }\n\n    date.setUTCFullYear(year, month);\n    return date\n  }\n\n  // YYYY-DDD or YYYYDDD\n  token = patterns$1.DDD.exec(dateString);\n  if (token) {\n    date = new Date(0);\n    var dayOfYear = parseInt(token[1], 10);\n\n    if (!validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN)\n    }\n\n    date.setUTCFullYear(year, 0, dayOfYear);\n    return date\n  }\n\n  // yyyy-MM-dd or YYYYMMDD\n  token = patterns$1.MMDD.exec(dateString);\n  if (token) {\n    date = new Date(0);\n    month = parseInt(token[1], 10) - 1;\n    var day = parseInt(token[2], 10);\n\n    if (!validateDate(year, month, day)) {\n      return new Date(NaN)\n    }\n\n    date.setUTCFullYear(year, month, day);\n    return date\n  }\n\n  // YYYY-Www or YYYYWww\n  token = patterns$1.Www.exec(dateString);\n  if (token) {\n    week = parseInt(token[1], 10) - 1;\n\n    if (!validateWeekDate(year, week)) {\n      return new Date(NaN)\n    }\n\n    return dayOfISOWeekYear(year, week)\n  }\n\n  // YYYY-Www-D or YYYYWwwD\n  token = patterns$1.WwwD.exec(dateString);\n  if (token) {\n    week = parseInt(token[1], 10) - 1;\n    var dayOfWeek = parseInt(token[2], 10) - 1;\n\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN)\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek)\n  }\n\n  // Invalid ISO-formatted date\n  return null\n}\n\nfunction parseTime(timeString) {\n  var token;\n  var hours;\n  var minutes;\n\n  // hh\n  token = patterns$1.HH.exec(timeString);\n  if (token) {\n    hours = parseFloat(token[1].replace(',', '.'));\n\n    if (!validateTime(hours)) {\n      return NaN\n    }\n\n    return (hours % 24) * MILLISECONDS_IN_HOUR$1\n  }\n\n  // hh:mm or hhmm\n  token = patterns$1.HHMM.exec(timeString);\n  if (token) {\n    hours = parseInt(token[1], 10);\n    minutes = parseFloat(token[2].replace(',', '.'));\n\n    if (!validateTime(hours, minutes)) {\n      return NaN\n    }\n\n    return (\n      (hours % 24) * MILLISECONDS_IN_HOUR$1 + minutes * MILLISECONDS_IN_MINUTE$2\n    )\n  }\n\n  // hh:mm:ss or hhmmss\n  token = patterns$1.HHMMSS.exec(timeString);\n  if (token) {\n    hours = parseInt(token[1], 10);\n    minutes = parseInt(token[2], 10);\n    var seconds = parseFloat(token[3].replace(',', '.'));\n\n    if (!validateTime(hours, minutes, seconds)) {\n      return NaN\n    }\n\n    return (\n      (hours % 24) * MILLISECONDS_IN_HOUR$1 +\n      minutes * MILLISECONDS_IN_MINUTE$2 +\n      seconds * 1000\n    )\n  }\n\n  // Invalid ISO-formatted time\n  return null\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  week = week || 0;\n  day = day || 0;\n  var date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\n  var diff = week * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date\n}\n\n// Validation functions\n\nvar DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0)\n}\n\nfunction validateDate(year, month, date) {\n  if (month < 0 || month > 11) {\n    return false\n  }\n\n  if (date != null) {\n    if (date < 1) {\n      return false\n    }\n\n    var isLeapYear = isLeapYearIndex(year);\n    if (isLeapYear && date > DAYS_IN_MONTH_LEAP_YEAR[month]) {\n      return false\n    }\n    if (!isLeapYear && date > DAYS_IN_MONTH[month]) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  if (dayOfYear < 1) {\n    return false\n  }\n\n  var isLeapYear = isLeapYearIndex(year);\n  if (isLeapYear && dayOfYear > 366) {\n    return false\n  }\n  if (!isLeapYear && dayOfYear > 365) {\n    return false\n  }\n\n  return true\n}\n\nfunction validateWeekDate(year, week, day) {\n  if (week < 0 || week > 52) {\n    return false\n  }\n\n  if (day != null && (day < 0 || day > 6)) {\n    return false\n  }\n\n  return true\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours != null && (hours < 0 || hours >= 25)) {\n    return false\n  }\n\n  if (minutes != null && (minutes < 0 || minutes >= 60)) {\n    return false\n  }\n\n  if (seconds != null && (seconds < 0 || seconds >= 60)) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Date} the start of a week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * var result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * var result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nfunction startOfWeek(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n  var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : toInteger(localeWeekStartsOn);\n  var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : toInteger(options.weekStartsOn); // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n\n  var date = toDate(dirtyDate);\n  var day = date.getDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setDate(date.getDate() - diff);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of an ISO week\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * var result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nfunction startOfISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  return startOfWeek(dirtyDate, {\n    weekStartsOn: 1\n  });\n}\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The function was renamed from `getISOYear` to `getISOWeekYear`.\n *   \"ISO week year\" is short for [ISO week-numbering year](https://en.wikipedia.org/wiki/ISO_week_date).\n *   This change makes the name consistent with\n *   locale-dependent week-numbering year helpers, e.g., `getWeekYear`.\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the ISO week-numbering year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * var result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\n\nfunction getISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  var startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  var startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of an ISO week-numbering year\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * var result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\n\nfunction startOfISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  var date = startOfISOWeek(fourthOfJanuary);\n  return date;\n}\n\nvar MILLISECONDS_IN_WEEK = 604800000;\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the given date\n * @returns {Number} the ISO week\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * var result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\n\nfunction getISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfISOWeek(date).getTime() - startOfISOWeekYear(date).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#Week_numbering\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the given date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year\n * @returns {Number} the local week-numbering year\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * var result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * var result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * var result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\n\nfunction getWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getFullYear();\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate); // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  var startOfNextYear = startOfWeek(firstWeekOfNextYear, dirtyOptions);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  var startOfThisYear = startOfWeek(firstWeekOfThisYear, dirtyOptions);\n\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#Week_numbering\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year\n * @returns {Date} the start of a week-numbering year\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * var result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * var result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\n\nfunction startOfWeekYear(dirtyDate, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var locale = options.locale;\n  var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n  var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : toInteger(localeFirstWeekContainsDate);\n  var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : toInteger(options.firstWeekContainsDate);\n  var year = getWeekYear(dirtyDate, dirtyOptions);\n  var firstWeek = new Date(0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  var date = startOfWeek(firstWeek, dirtyOptions);\n  return date;\n}\n\nvar MILLISECONDS_IN_WEEK$1 = 604800000;\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#Week_numbering\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the given date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @param {1|2|3|4|5|6|7} [options.firstWeekContainsDate=1] - the day of January, which is always in the first week of the year\n * @returns {Number} the week\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n * @throws {RangeError} `options.firstWeekContainsDate` must be between 1 and 7\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * var result = getISOWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * var result = getISOWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\n\nfunction getWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfWeek(date, options).getTime() - startOfWeekYear(date, options).getTime(); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round(diff / MILLISECONDS_IN_WEEK$1) + 1;\n}\n\nvar MILLISECONDS_IN_WEEK$2 = 604800000;\n/**\n * @name differenceInCalendarWeeks\n * @category Week Helpers\n * @summary Get the number of calendar weeks between the given dates.\n *\n * @description\n * Get the number of calendar weeks between the given dates.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the later date\n * @param {Date|Number} dateRight - the earlier date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Number} the number of calendar weeks\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // How many calendar weeks are between 5 July 2014 and 20 July 2014?\n * var result = differenceInCalendarWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5)\n * )\n * //=> 3\n *\n * @example\n * // If the week starts on Monday,\n * // how many calendar weeks are between 5 July 2014 and 20 July 2014?\n * var result = differenceInCalendarWeeks(\n *   new Date(2014, 6, 20),\n *   new Date(2014, 6, 5),\n *   { weekStartsOn: 1 }\n * )\n * //=> 2\n */\n\nfunction differenceInCalendarWeeks(dirtyDateLeft, dirtyDateRight, dirtyOptions) {\n  requiredArgs(2, arguments);\n  var startOfWeekLeft = startOfWeek(dirtyDateLeft, dirtyOptions);\n  var startOfWeekRight = startOfWeek(dirtyDateRight, dirtyOptions);\n  var timestampLeft = startOfWeekLeft.getTime() - getTimezoneOffsetInMilliseconds(startOfWeekLeft);\n  var timestampRight = startOfWeekRight.getTime() - getTimezoneOffsetInMilliseconds(startOfWeekRight); // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n\n  return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_WEEK$2);\n}\n\n/**\n * @name lastDayOfMonth\n * @category Month Helpers\n * @summary Return the last day of a month for the given date.\n *\n * @description\n * Return the last day of a month for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the last day of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The last day of a month for 2 September 2014 11:55:00:\n * var result = lastDayOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 00:00:00\n */\n\nfunction lastDayOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var month = date.getMonth();\n  date.setFullYear(date.getFullYear(), month + 1, 0);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a month\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * var result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\n\nfunction startOfMonth(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\n/**\n * @name getWeeksInMonth\n * @category Week Helpers\n * @summary Get the number of calendar weeks a month spans.\n *\n * @description\n * Get the number of calendar weeks the month in the given date spans.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the given date\n * @param {Object} [options] - an object with options.\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @param {0|1|2|3|4|5|6} [options.weekStartsOn=0] - the index of the first day of the week (0 - Sunday)\n * @returns {Number} the number of calendar weeks\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `options.weekStartsOn` must be between 0 and 6\n *\n * @example\n * // How many calendar weeks does February 2015 span?\n * var result = getWeeksInMonth(new Date(2015, 1, 8))\n * //=> 4\n *\n * @example\n * // If the week starts on Monday,\n * // how many calendar weeks does July 2017 span?\n * var result = getWeeksInMonth(new Date(2017, 6, 5), { weekStartsOn: 1 })\n * //=> 6\n */\n\nfunction getWeeksInMonth(date, options) {\n  requiredArgs(1, arguments);\n  return differenceInCalendarWeeks(lastDayOfMonth(date), startOfMonth(date), options) + 1;\n}\n\nvar millisecondsPerDay = 24 * 60 * 60 * 1000;\n\nvar DateInfo = /*#__PURE__*/function () {\n  function DateInfo(config) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$order = _ref.order,\n        order = _ref$order === void 0 ? 0 : _ref$order,\n        locale = _ref.locale,\n        isFullDay = _ref.isFullDay;\n\n    _classCallCheck(this, DateInfo);\n\n    this.isDateInfo = true;\n    this.order = order;\n    this.locale = locale instanceof Locale ? locale : new Locale(locale);\n    this.firstDayOfWeek = this.locale.firstDayOfWeek; // Adjust config for simple dates\n\n    if (!isObject(config)) {\n      var date = this.locale.normalizeDate(config);\n\n      if (isFullDay) {\n        config = {\n          start: date,\n          end: date\n        };\n      } else {\n        config = {\n          startOn: date,\n          endOn: date\n        };\n      }\n    }\n\n    var start = null;\n    var end = null;\n\n    if (config.start) {\n      start = this.locale.normalizeDate(config.start, _objectSpread2(_objectSpread2({}, this.opts), {}, {\n        time: '00:00:00'\n      }));\n    } else if (config.startOn) {\n      start = this.locale.normalizeDate(config.startOn, this.opts);\n    }\n\n    if (config.end) {\n      end = this.locale.normalizeDate(config.end, _objectSpread2(_objectSpread2({}, this.opts), {}, {\n        time: '23:59:59'\n      }));\n    } else if (config.endOn) {\n      end = this.locale.normalizeDate(config.endOn, this.opts);\n    } // Reconfigure start and end dates if needed\n\n\n    if (start && end && start > end) {\n      var temp = start;\n      start = end;\n      end = temp;\n    } else if (start && config.span >= 1) {\n      end = addDays(start, config.span - 1);\n    } // Assign start and end dates\n\n\n    this.start = start;\n    this.startTime = start ? start.getTime() : NaN;\n    this.end = end;\n    this.endTime = end ? end.getTime() : NaN;\n    this.isDate = this.startTime && this.startTime === this.endTime;\n    this.isRange = !this.isDate; // Assign 'and' condition\n\n    var andOpt = mixinOptionalProps(config, {}, DateInfo.patternProps);\n\n    if (andOpt.assigned) {\n      this.on = {\n        and: andOpt.target\n      };\n    } // Assign 'or' conditions\n\n\n    if (config.on) {\n      var or = (isArrayLikeObject_1(config.on) ? config.on : [config.on]).map(function (o) {\n        if (isFunction_1(o)) return o;\n        var opt = mixinOptionalProps(o, {}, DateInfo.patternProps);\n        return opt.assigned ? opt.target : null;\n      }).filter(function (o) {\n        return o;\n      });\n      if (or.length) this.on = _objectSpread2(_objectSpread2({}, this.on), {}, {\n        or: or\n      });\n    } // Assign flag if date is complex\n\n\n    this.isComplex = !!this.on;\n  }\n\n  _createClass(DateInfo, [{\n    key: \"toDateInfo\",\n    value: function toDateInfo(date) {\n      return date.isDateInfo ? date : new DateInfo(date, this.opts);\n    }\n  }, {\n    key: \"startOfWeek\",\n    value: function startOfWeek(date) {\n      var day = date.getDay() + 1;\n      var daysToAdd = day >= this.firstDayOfWeek ? this.firstDayOfWeek - day : -(7 - (this.firstDayOfWeek - day));\n      return addDays(date, daysToAdd);\n    }\n  }, {\n    key: \"diffInDays\",\n    value: function diffInDays(d1, d2) {\n      return Math.round((d2 - d1) / millisecondsPerDay);\n    }\n  }, {\n    key: \"diffInWeeks\",\n    value: function diffInWeeks(d1, d2) {\n      return this.diffInDays(this.startOfWeek(d1), this.startOfWeek(d2));\n    }\n  }, {\n    key: \"diffInYears\",\n    value: function diffInYears(d1, d2) {\n      return d2.getUTCFullYear() - d1.getUTCFullYear();\n    }\n  }, {\n    key: \"diffInMonths\",\n    value: function diffInMonths(d1, d2) {\n      return this.diffInYears(d1, d2) * 12 + (d2.getMonth() - d1.getMonth());\n    }\n  }, {\n    key: \"iterateDatesInRange\",\n    value: function iterateDatesInRange(_ref2, fn) {\n      var start = _ref2.start,\n          end = _ref2.end;\n      if (!start || !end || !isFunction_1(fn)) return null;\n      start = this.locale.normalizeDate(start, _objectSpread2(_objectSpread2({}, this.opts), {}, {\n        time: '00:00:00'\n      }));\n      var state = {\n        i: 0,\n        date: start,\n        day: this.locale.getDateParts(start),\n        finished: false\n      };\n      var result = null;\n\n      for (; !state.finished && state.date <= end; state.i++) {\n        result = fn(state);\n        state.date = addDays(state.date, 1);\n        state.day = this.locale.getDateParts(state.date);\n      }\n\n      return result;\n    }\n  }, {\n    key: \"shallowIntersectingRange\",\n    value: function shallowIntersectingRange(other) {\n      return this.rangeShallowIntersectingRange(this, this.toDateInfo(other));\n    } // Returns a date range that intersects two DateInfo objects\n    // NOTE: This is a shallow calculation (does not take patterns into account),\n    //   so this method should only really be called for special conditions\n    //   where absolute accuracy is not necessarily needed\n\n  }, {\n    key: \"rangeShallowIntersectingRange\",\n    value: function rangeShallowIntersectingRange(date1, date2) {\n      if (!this.dateShallowIntersectsDate(date1, date2)) {\n        return null;\n      }\n\n      var thisRange = date1.toRange();\n      var otherRange = date2.toRange(); // Start with infinite start and end dates\n\n      var start = null;\n      var end = null; // This start date exists\n\n      if (thisRange.start) {\n        // Use this definite start date if other start date is infinite\n        if (!otherRange.start) {\n          start = thisRange.start;\n        } else {\n          // Otherwise, use the latest start date\n          start = thisRange.start > otherRange.start ? thisRange.start : otherRange.start;\n        } // Other start date exists\n\n      } else if (otherRange.start) {\n        // Use other definite start date as this one is infinite\n        start = otherRange.start;\n      } // This end date exists\n\n\n      if (thisRange.end) {\n        // Use this definite end date if other end date is infinite\n        if (!otherRange.end) {\n          end = thisRange.end;\n        } else {\n          // Otherwise, use the earliest end date\n          end = thisRange.end < otherRange.end ? thisRange.end : otherRange.end;\n        } // Other end date exists\n\n      } else if (otherRange.end) {\n        // Use other definite end date as this one is infinite\n        end = otherRange.end;\n      } // Return calculated range\n\n\n      return {\n        start: start,\n        end: end\n      };\n    } // ========================================================\n    // Determines if this date partially intersects another date\n    // NOTE: This is a deep test (patterns tested)\n\n  }, {\n    key: \"intersectsDate\",\n    value: function intersectsDate(other) {\n      var _this = this;\n\n      var date = this.toDateInfo(other);\n      if (!this.shallowIntersectsDate(date)) return null;\n      if (!this.on) return this;\n      var range = this.rangeShallowIntersectingRange(this, date);\n      var result = false;\n      this.iterateDatesInRange(range, function (state) {\n        if (_this.matchesDay(state.day)) {\n          result = result || date.matchesDay(state.day);\n          state.finished = result;\n        }\n      });\n      return result;\n    } // ========================================================\n    // Determines if this date partially intersects another date\n    // NOTE: This is a shallow test (no patterns tested)\n\n  }, {\n    key: \"shallowIntersectsDate\",\n    value: function shallowIntersectsDate(other) {\n      return this.dateShallowIntersectsDate(this, this.toDateInfo(other));\n    } // ========================================================\n    // Determines if first date partially intersects second date\n    // NOTE: This is a shallow test (no patterns tested)\n\n  }, {\n    key: \"dateShallowIntersectsDate\",\n    value: function dateShallowIntersectsDate(date1, date2) {\n      if (date1.isDate) {\n        return date2.isDate ? date1.startTime === date2.startTime : this.dateShallowIncludesDate(date2, date1);\n      }\n\n      if (date2.isDate) {\n        return this.dateShallowIncludesDate(date1, date2);\n      } // Both ranges\n\n\n      if (date1.start && date2.end && date1.start > date2.end) {\n        return false;\n      }\n\n      if (date1.end && date2.start && date1.end < date2.start) {\n        return false;\n      }\n\n      return true;\n    } // ========================================================\n    // Determines if this date completely includes another date\n    // NOTE: This is a deep test (patterns tested)\n\n  }, {\n    key: \"includesDate\",\n    value: function includesDate(other) {\n      var _this2 = this;\n\n      var date = this.toDateInfo(other);\n\n      if (!this.shallowIncludesDate(date)) {\n        return false;\n      }\n\n      if (!this.on) {\n        return true;\n      }\n\n      var range = this.rangeShallowIntersectingRange(this, date);\n      var result = true;\n      this.iterateDatesInRange(range, function (state) {\n        if (_this2.matchesDay(state.day)) {\n          result = result && date.matchesDay(state.day);\n          state.finished = !result;\n        }\n      });\n      return result;\n    } // ========================================================\n    // Determines if this date completely includes another date\n    // NOTE: This is a shallow test (no patterns tested)\n\n  }, {\n    key: \"shallowIncludesDate\",\n    value: function shallowIncludesDate(other) {\n      return this.dateShallowIncludesDate(this, other.isDate ? other : new DateInfo(other, this.opts));\n    } // ========================================================\n    // Determines if first date completely includes second date\n    // NOTE: This is a shallow test (no patterns tested)\n\n  }, {\n    key: \"dateShallowIncludesDate\",\n    value: function dateShallowIncludesDate(date1, date2) {\n      // First date is simple date\n      if (date1.isDate) {\n        if (date2.isDate) {\n          return date1.startTime === date2.startTime;\n        }\n\n        if (!date2.startTime || !date2.endTime) {\n          return false;\n        }\n\n        return date1.startTime === date2.startTime && date1.startTime === date2.endTime;\n      } // Second date is simple date and first is date range\n\n\n      if (date2.isDate) {\n        if (date1.start && date2.start < date1.start) {\n          return false;\n        }\n\n        if (date1.end && date2.start > date1.end) {\n          return false;\n        }\n\n        return true;\n      } // Both dates are date ranges\n\n\n      if (date1.start && (!date2.start || date2.start < date1.start)) {\n        return false;\n      }\n\n      if (date1.end && (!date2.end || date2.end > date1.end)) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"intersectsDay\",\n    value: function intersectsDay(day) {\n      // Date is outside general range - return null\n      if (!this.shallowIntersectsDate(day.range)) return null; // Return this date if patterns match\n\n      return this.matchesDay(day) ? this : null;\n    }\n  }, {\n    key: \"matchesDay\",\n    value: function matchesDay(day) {\n      var _this3 = this;\n\n      // No patterns to test\n      if (!this.on) return true; // Fail if 'and' condition fails\n\n      if (this.on.and && !DateInfo.testConfig(this.on.and, day, this)) {\n        return false;\n      } // Fail if every 'or' condition fails\n\n\n      if (this.on.or && !this.on.or.some(function (or) {\n        return DateInfo.testConfig(or, day, _this3);\n      })) {\n        return false;\n      } // Patterns match\n\n\n      return true;\n    }\n  }, {\n    key: \"toRange\",\n    value: function toRange() {\n      return new DateInfo({\n        start: this.start,\n        end: this.end\n      }, this.opts);\n    } // Build the 'compare to other' function\n\n  }, {\n    key: \"compare\",\n    value: function compare(other) {\n      if (this.order !== other.order) return this.order - other.order;\n      if (this.isDate !== other.isDate) return this.isDate ? 1 : -1;\n      if (this.isDate) return 0;\n      var diff = this.start - other.start;\n      return diff !== 0 ? diff : this.end - other.end;\n    }\n  }, {\n    key: \"opts\",\n    get: function get() {\n      return {\n        order: this.order,\n        locale: this.locale\n      };\n    }\n  }], [{\n    key: \"testConfig\",\n    value: function testConfig(config, day, dateInfo) {\n      if (isFunction_1(config)) return config(day);\n\n      if (isObject(config)) {\n        return Object.keys(config).every(function (k) {\n          return DateInfo.patterns[k].test(day, config[k], dateInfo);\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"patterns\",\n    get: function get() {\n      return {\n        dailyInterval: {\n          test: function test(day, interval, di) {\n            return di.diffInDays(di.start || new Date(), day.date) % interval === 0;\n          }\n        },\n        weeklyInterval: {\n          test: function test(day, interval, di) {\n            return di.diffInWeeks(di.start || new Date(), day.date) % interval === 0;\n          }\n        },\n        monthlyInterval: {\n          test: function test(day, interval, di) {\n            return di.diffInMonths(di.start || new Date(), day.date) % interval === 0;\n          }\n        },\n        yearlyInterval: {\n          test: function test() {\n            return function (day, interval, di) {\n              return di.diffInYears(di.start || new Date(), day.date) % interval === 0;\n            };\n          }\n        },\n        days: {\n          validate: function validate(days) {\n            return isArrayLikeObject_1(days) ? days : [parseInt(days, 10)];\n          },\n          test: function test(day, days) {\n            return days.includes(day.day) || days.includes(-day.dayFromEnd);\n          }\n        },\n        weekdays: {\n          validate: function validate(weekdays) {\n            return isArrayLikeObject_1(weekdays) ? weekdays : [parseInt(weekdays, 10)];\n          },\n          test: function test(day, weekdays) {\n            return weekdays.includes(day.weekday);\n          }\n        },\n        ordinalWeekdays: {\n          validate: function validate(ordinalWeekdays) {\n            return Object.keys(ordinalWeekdays).reduce(function (obj, ck) {\n              var weekdays = ordinalWeekdays[ck];\n              if (!weekdays) return obj;\n              obj[ck] = isArrayLikeObject_1(weekdays) ? weekdays : [parseInt(weekdays, 10)];\n              return obj;\n            }, {});\n          },\n          test: function test(day, ordinalWeekdays) {\n            return Object.keys(ordinalWeekdays).map(function (k) {\n              return parseInt(k, 10);\n            }).find(function (k) {\n              return ordinalWeekdays[k].includes(day.weekday) && (k === day.weekdayOrdinal || k === -day.weekdayOrdinalFromEnd);\n            });\n          }\n        },\n        weekends: {\n          validate: function validate(config) {\n            return config;\n          },\n          test: function test(day) {\n            return day.weekday === 1 || day.weekday === 7;\n          }\n        },\n        workweek: {\n          validate: function validate(config) {\n            return config;\n          },\n          test: function test(day) {\n            return day.weekday >= 2 && day.weekday <= 6;\n          }\n        },\n        weeks: {\n          validate: function validate(weeks) {\n            return isArrayLikeObject_1(weeks) ? weeks : [parseInt(weeks, 10)];\n          },\n          test: function test(day, weeks) {\n            return weeks.includes(day.week) || weeks.includes(-day.weekFromEnd);\n          }\n        },\n        months: {\n          validate: function validate(months) {\n            return isArrayLikeObject_1(months) ? months : [parseInt(months, 10)];\n          },\n          test: function test(day, months) {\n            return months.includes(day.month);\n          }\n        },\n        years: {\n          validate: function validate(years) {\n            return isArrayLikeObject_1(years) ? years : [parseInt(years, 10)];\n          },\n          test: function test(day, years) {\n            return years.includes(day.year);\n          }\n        }\n      };\n    }\n  }, {\n    key: \"patternProps\",\n    get: function get() {\n      return Object.keys(DateInfo.patterns).map(function (k) {\n        return {\n          name: k,\n          validate: DateInfo.patterns[k].validate\n        };\n      });\n    }\n  }]);\n\n  return DateInfo;\n}();\n\nconst locales = {\r\n    // Arabic\r\n    ar: { dow: 7, L: 'D/\\u200FM/\\u200FYYYY' },\r\n    // Bulgarian\r\n    bg: { dow: 2, L: 'D.MM.YYYY' },\r\n    // Catalan\r\n    ca: { dow: 2, L: 'DD/MM/YYYY' },\r\n    // Chinese (China)\r\n    'zh-CN': { dow: 2, L: 'YYYY/MM/DD' },\r\n    // Chinese (Taiwan)\r\n    'zh-TW': { dow: 1, L: 'YYYY/MM/DD' },\r\n    // Croatian\r\n    hr: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Czech\r\n    cs: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Danish\r\n    da: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Dutch\r\n    nl: { dow: 2, L: 'DD-MM-YYYY' },\r\n    // English (US)\r\n    'en-US': { dow: 1, L: 'MM/DD/YYYY' },\r\n    // English (Australia)\r\n    'en-AU': { dow: 2, L: 'DD/MM/YYYY' },\r\n    // English (Canada)\r\n    'en-CA': { dow: 1, L: 'YYYY-MM-DD' },\r\n    // English (Great Britain)\r\n    'en-GB': { dow: 2, L: 'DD/MM/YYYY' },\r\n    // English (Ireland)\r\n    'en-IE': { dow: 2, L: 'DD-MM-YYYY' },\r\n    // English (New Zealand)\r\n    'en-NZ': { dow: 2, L: 'DD/MM/YYYY' },\r\n    // English (South Africa)\r\n    'en-ZA': { dow: 1, L: 'YYYY/MM/DD' },\r\n    // Esperanto\r\n    eo: { dow: 2, L: 'YYYY-MM-DD' },\r\n    // Estonian\r\n    et: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Finnish\r\n    fi: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // French\r\n    fr: { dow: 2, L: 'DD/MM/YYYY' },\r\n    // French (Canada)\r\n    'fr-CA': { dow: 1, L: 'YYYY-MM-DD' },\r\n    // French (Switzerland)\r\n    'fr-CH': { dow: 2, L: 'DD.MM.YYYY' },\r\n    // German\r\n    de: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Hebrew\r\n    he: { dow: 1, L: 'DD.MM.YYYY' },\r\n    // Indonesian\r\n    id: { dow: 2, L: 'DD/MM/YYYY' },\r\n    // Italian\r\n    it: { dow: 2, L: 'DD/MM/YYYY' },\r\n    // Japanese\r\n    ja: { dow: 1, L: 'YYYY年M月D日' },\r\n    // Korean\r\n    ko: { dow: 1, L: 'YYYY.MM.DD' },\r\n    // Latvian\r\n    lv: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Lithuanian\r\n    lt: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Macedonian\r\n    mk: { dow: 2, L: 'D.MM.YYYY' },\r\n    // Norwegian\r\n    nb: { dow: 2, L: 'D. MMMM YYYY' },\r\n    nn: { dow: 2, L: 'D. MMMM YYYY' },\r\n    // Polish\r\n    pl: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Portuguese\r\n    pt: { dow: 2, L: 'DD/MM/YYYY' },\r\n    // Romanian\r\n    ro: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Russian\r\n    ru: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Slovak\r\n    sk: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Spanish (Spain)\r\n    'es-ES': { dow: 2, L: 'DD/MM/YYYY' },\r\n    // Spanish (Mexico)\r\n    'es-MX': { dow: 2, L: 'DD/MM/YYYY' },\r\n    // Swedish\r\n    sv: { dow: 2, L: 'YYYY-MM-DD' },\r\n    // Thai\r\n    th: { dow: 1, L: 'DD/MM/YYYY' },\r\n    // Turkish\r\n    tr: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Ukrainian\r\n    uk: { dow: 2, L: 'DD.MM.YYYY' },\r\n    // Vietnam\r\n    vi: { dow: 2, L: 'DD/MM/YYYY' },\r\n};\r\nlocales.en = locales['en-US'];\r\nlocales.es = locales['es-ES'];\r\nlocales.no = locales.nb;\r\nlocales.zh = locales['zh-CN'];\r\n// Remap from abbr. to intuitive property names\r\ntoPairs_1(locales).forEach(([id, { dow, L }]) => {\r\n    locales[id] = {\r\n        id,\r\n        firstDayOfWeek: dow,\r\n        masks: { L },\r\n    };\r\n});\n\nvar PATCH = {\n  DATE_TIME: 1,\n  DATE: 2,\n  TIME: 3\n};\nvar PATCH_KEYS = {\n  1: ['year', 'month', 'day', 'hours', 'minutes', 'seconds', 'milliseconds'],\n  2: ['year', 'month', 'day'],\n  3: ['hours', 'minutes', 'seconds', 'milliseconds']\n};\nvar token = /d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\\1?|[aA]|\"[^\"]*\"|'[^']*'/g;\nvar twoDigits = /\\d\\d?/;\nvar threeDigits = /\\d{3}/;\nvar fourDigits = /\\d{4}/;\nvar word = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\nvar literal = /\\[([^]*?)\\]/gm; // eslint-disable-next-line @typescript-eslint/no-empty-function\n\nvar noop = function noop() {};\n\nvar monthUpdate = function monthUpdate(arrName) {\n  return function (d, v, l) {\n    var index = l[arrName].indexOf(v.charAt(0).toUpperCase() + v.substr(1).toLowerCase());\n\n    if (~index) {\n      d.month = index;\n    }\n  };\n};\n\nvar maskMacros = ['L', 'iso'];\nvar daysInWeek = 7;\nvar daysInMonths = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar formatFlags = {\n  D: function D(d) {\n    return d.day;\n  },\n  DD: function DD(d) {\n    return pad(d.day);\n  },\n  Do: function Do(d, l) {\n    return l.DoFn(d.day);\n  },\n  d: function d(_d) {\n    return _d.weekday - 1;\n  },\n  dd: function dd(d) {\n    return pad(d.weekday - 1);\n  },\n  W: function W(d, l) {\n    return l.dayNamesNarrow[d.weekday - 1];\n  },\n  WW: function WW(d, l) {\n    return l.dayNamesShorter[d.weekday - 1];\n  },\n  WWW: function WWW(d, l) {\n    return l.dayNamesShort[d.weekday - 1];\n  },\n  WWWW: function WWWW(d, l) {\n    return l.dayNames[d.weekday - 1];\n  },\n  M: function M(d) {\n    return d.month;\n  },\n  MM: function MM(d) {\n    return pad(d.month);\n  },\n  MMM: function MMM(d, l) {\n    return l.monthNamesShort[d.month - 1];\n  },\n  MMMM: function MMMM(d, l) {\n    return l.monthNames[d.month - 1];\n  },\n  YY: function YY(d) {\n    return String(d.year).substr(2);\n  },\n  YYYY: function YYYY(d) {\n    return pad(d.year, 4);\n  },\n  h: function h(d) {\n    return d.hours % 12 || 12;\n  },\n  hh: function hh(d) {\n    return pad(d.hours % 12 || 12);\n  },\n  H: function H(d) {\n    return d.hours;\n  },\n  HH: function HH(d) {\n    return pad(d.hours);\n  },\n  m: function m(d) {\n    return d.minutes;\n  },\n  mm: function mm(d) {\n    return pad(d.minutes);\n  },\n  s: function s(d) {\n    return d.seconds;\n  },\n  ss: function ss(d) {\n    return pad(d.seconds);\n  },\n  S: function S(d) {\n    return Math.round(d.milliseconds / 100);\n  },\n  SS: function SS(d) {\n    return pad(Math.round(d.milliseconds / 10), 2);\n  },\n  SSS: function SSS(d) {\n    return pad(d.milliseconds, 3);\n  },\n  a: function a(d, l) {\n    return d.hours < 12 ? l.amPm[0] : l.amPm[1];\n  },\n  A: function A(d, l) {\n    return d.hours < 12 ? l.amPm[0].toUpperCase() : l.amPm[1].toUpperCase();\n  },\n  Z: function Z() {\n    return 'Z';\n  },\n  ZZ: function ZZ(d) {\n    var o = d.timezoneOffset;\n    return \"\".concat(o > 0 ? '-' : '+').concat(pad(Math.floor(Math.abs(o) / 60), 2));\n  },\n  ZZZ: function ZZZ(d) {\n    var o = d.timezoneOffset;\n    return \"\".concat(o > 0 ? '-' : '+').concat(pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4));\n  },\n  ZZZZ: function ZZZZ(d) {\n    var o = d.timezoneOffset;\n    return \"\".concat(o > 0 ? '-' : '+').concat(pad(Math.floor(Math.abs(o) / 60), 2), \":\").concat(pad(Math.abs(o) % 60, 2));\n  }\n};\nvar parseFlags = {\n  D: [twoDigits, function (d, v) {\n    d.day = v;\n  }],\n  Do: [new RegExp(twoDigits.source + word.source), function (d, v) {\n    d.day = parseInt(v, 10);\n  }],\n  d: [twoDigits, noop],\n  W: [word, noop],\n  M: [twoDigits, function (d, v) {\n    d.month = v - 1;\n  }],\n  MMM: [word, monthUpdate('monthNamesShort')],\n  MMMM: [word, monthUpdate('monthNames')],\n  YY: [twoDigits, function (d, v) {\n    var da = new Date();\n    var cent = +da.getFullYear().toString().substr(0, 2);\n    d.year = \"\".concat(v > 68 ? cent - 1 : cent).concat(v);\n  }],\n  YYYY: [fourDigits, function (d, v) {\n    d.year = v;\n  }],\n  S: [/\\d/, function (d, v) {\n    d.millisecond = v * 100;\n  }],\n  SS: [/\\d{2}/, function (d, v) {\n    d.millisecond = v * 10;\n  }],\n  SSS: [threeDigits, function (d, v) {\n    d.millisecond = v;\n  }],\n  h: [twoDigits, function (d, v) {\n    d.hour = v;\n  }],\n  m: [twoDigits, function (d, v) {\n    d.minute = v;\n  }],\n  s: [twoDigits, function (d, v) {\n    d.second = v;\n  }],\n  a: [word, function (d, v, l) {\n    var val = v.toLowerCase();\n\n    if (val === l.amPm[0]) {\n      d.isPm = false;\n    } else if (val === l.amPm[1]) {\n      d.isPm = true;\n    }\n  }],\n  Z: [/[^\\s]*?[+-]\\d\\d:?\\d\\d|[^\\s]*?Z?/, function (d, v) {\n    if (v === 'Z') v = '+00:00';\n    var parts = \"\".concat(v).match(/([+-]|\\d\\d)/gi);\n\n    if (parts) {\n      var minutes = +(parts[1] * 60) + parseInt(parts[2], 10);\n      d.timezoneOffset = parts[0] === '+' ? minutes : -minutes;\n    }\n  }]\n};\nparseFlags.DD = parseFlags.D;\nparseFlags.dd = parseFlags.d;\nparseFlags.WWWW = parseFlags.WWW = parseFlags.WW = parseFlags.W;\nparseFlags.MM = parseFlags.M;\nparseFlags.mm = parseFlags.m;\nparseFlags.hh = parseFlags.H = parseFlags.HH = parseFlags.h;\nparseFlags.ss = parseFlags.s;\nparseFlags.A = parseFlags.a;\nparseFlags.ZZZZ = parseFlags.ZZZ = parseFlags.ZZ = parseFlags.Z;\nfunction resolveConfig(config, locales) {\n  // Get the detected locale string\n  var detLocale = new Intl.DateTimeFormat().resolvedOptions().locale; // Resolve the locale id\n\n  var id;\n\n  if (isString_1(config)) {\n    id = config;\n  } else if (has(config, 'id')) {\n    id = config.id;\n  }\n\n  id = (id || detLocale).toLowerCase();\n  var localeKeys = Object.keys(locales);\n\n  var validKey = function validKey(k) {\n    return localeKeys.find(function (lk) {\n      return lk.toLowerCase() === k;\n    });\n  };\n\n  id = validKey(id) || validKey(id.substring(0, 2)) || detLocale; // Add fallback and spread default locale to prevent repetitive update loops\n\n  var defLocale = _objectSpread2(_objectSpread2(_objectSpread2({}, locales['en-IE']), locales[id]), {}, {\n    id: id\n  }); // Assign or merge defaults with provided config\n\n\n  config = isObject(config) ? defaultsDeep_1(config, defLocale) : defLocale; // Return resolved config\n\n  return config;\n}\n\nvar Locale = /*#__PURE__*/function () {\n  function Locale(config) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$locales = _ref.locales,\n        locales$1 = _ref$locales === void 0 ? locales : _ref$locales,\n        timezone = _ref.timezone;\n\n    _classCallCheck(this, Locale);\n\n    var _resolveConfig = resolveConfig(config, locales$1),\n        id = _resolveConfig.id,\n        firstDayOfWeek = _resolveConfig.firstDayOfWeek,\n        masks = _resolveConfig.masks;\n\n    this.id = id;\n    this.daysInWeek = daysInWeek;\n    this.firstDayOfWeek = clamp_1(firstDayOfWeek, 1, daysInWeek);\n    this.masks = masks;\n    this.timezone = timezone || undefined;\n    this.dayNames = this.getDayNames('long');\n    this.dayNamesShort = this.getDayNames('short');\n    this.dayNamesShorter = this.dayNamesShort.map(function (s) {\n      return s.substring(0, 2);\n    });\n    this.dayNamesNarrow = this.getDayNames('narrow');\n    this.monthNames = this.getMonthNames('long');\n    this.monthNamesShort = this.getMonthNames('short');\n    this.amPm = ['am', 'pm'];\n    this.monthData = {}; // Bind methods\n\n    this.getMonthComps = this.getMonthComps.bind(this);\n    this.parse = this.parse.bind(this);\n    this.format = this.format.bind(this);\n    this.toPage = this.toPage.bind(this);\n  }\n\n  _createClass(Locale, [{\n    key: \"format\",\n    value: function format(date, mask) {\n      var _this = this;\n\n      date = this.normalizeDate(date);\n      if (!date) return '';\n      mask = this.normalizeMasks(mask)[0];\n      var literals = []; // Make literals inactive by replacing them with ??\n\n      mask = mask.replace(literal, function ($0, $1) {\n        literals.push($1);\n        return '??';\n      });\n      var timezone = /Z$/.test(mask) ? 'utc' : this.timezone;\n      var dateParts = this.getDateParts(date, timezone); // Apply formatting rules\n\n      mask = mask.replace(token, function ($0) {\n        return $0 in formatFlags ? formatFlags[$0](dateParts, _this) : $0.slice(1, $0.length - 1);\n      }); // Inline literal values back into the formatted value\n\n      return mask.replace(/\\?\\?/g, function () {\n        return literals.shift();\n      });\n    }\n  }, {\n    key: \"parse\",\n    value: function parse(dateString, mask) {\n      var _this2 = this;\n\n      var masks = this.normalizeMasks(mask);\n      return masks.map(function (m) {\n        if (typeof m !== 'string') {\n          throw new Error('Invalid mask in fecha.parse');\n        } // Reset string value\n\n\n        var str = dateString; // Avoid regular expression denial of service, fail early for really long strings\n        // https://www.owasp.org/index.php/Regular_expression_Denial_of_Service_-_ReDoS\n\n        if (str.length > 1000) {\n          return false;\n        }\n\n        var isValid = true;\n        var dateInfo = {};\n        m.replace(token, function ($0) {\n          if (parseFlags[$0]) {\n            var info = parseFlags[$0];\n            var index = str.search(info[0]);\n\n            if (!~index) {\n              isValid = false;\n            } else {\n              str.replace(info[0], function (result) {\n                info[1](dateInfo, result, _this2);\n                str = str.substr(index + result.length);\n                return result;\n              });\n            }\n          }\n\n          return parseFlags[$0] ? '' : $0.slice(1, $0.length - 1);\n        });\n\n        if (!isValid) {\n          return false;\n        }\n\n        var today = new Date();\n\n        if (dateInfo.isPm === true && dateInfo.hour != null && +dateInfo.hour !== 12) {\n          dateInfo.hour = +dateInfo.hour + 12;\n        } else if (dateInfo.isPm === false && +dateInfo.hour === 12) {\n          dateInfo.hour = 0;\n        }\n\n        var date;\n\n        if (dateInfo.timezoneOffset != null) {\n          dateInfo.minute = +(dateInfo.minute || 0) - +dateInfo.timezoneOffset;\n          date = new Date(Date.UTC(dateInfo.year || today.getFullYear(), dateInfo.month || 0, dateInfo.day || 1, dateInfo.hour || 0, dateInfo.minute || 0, dateInfo.second || 0, dateInfo.millisecond || 0));\n        } else {\n          date = _this2.getDateFromParts({\n            year: dateInfo.year || today.getFullYear(),\n            month: (dateInfo.month || 0) + 1,\n            day: dateInfo.day || 1,\n            hours: dateInfo.hour || 0,\n            minutes: dateInfo.minute || 0,\n            seconds: dateInfo.second || 0,\n            milliseconds: dateInfo.millisecond || 0\n          });\n        }\n\n        return date;\n      }).find(function (d) {\n        return d;\n      }) || new Date(dateString);\n    } // Normalizes mask(s) as an array with replaced mask macros\n\n  }, {\n    key: \"normalizeMasks\",\n    value: function normalizeMasks(masks) {\n      var _this3 = this;\n\n      return (arrayHasItems(masks) && masks || [isString_1(masks) && masks || 'YYYY-MM-DD']).map(function (m) {\n        return maskMacros.reduce(function (prev, curr) {\n          return prev.replace(curr, _this3.masks[curr] || '');\n        }, m);\n      });\n    }\n  }, {\n    key: \"normalizeDate\",\n    value: function normalizeDate(d) {\n      var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var result = null;\n      var type = config.type,\n          fillDate = config.fillDate;\n      var mask = config.mask,\n          patch = config.patch,\n          time = config.time;\n      var auto = type === 'auto' || !type;\n\n      if (isNumber_1(d)) {\n        type = 'number';\n        result = new Date(+d);\n      } else if (isString_1(d)) {\n        type = 'string';\n        result = d ? this.parse(d, mask || 'iso') : null;\n      } else if (isObject(d)) {\n        type = 'object';\n        result = this.getDateFromParts(d);\n      } else {\n        type = 'date';\n        result = isDate(d) ? new Date(d.getTime()) : null;\n      }\n\n      if (result && patch) {\n        fillDate = fillDate == null ? new Date() : this.normalizeDate(fillDate);\n\n        var parts = _objectSpread2(_objectSpread2({}, this.getDateParts(fillDate)), pick_1(this.getDateParts(result), PATCH_KEYS[patch]));\n\n        result = this.getDateFromParts(parts);\n      }\n\n      if (auto) config.type = type;\n\n      if (result && !isNaN(result.getTime())) {\n        if (time) {\n          result = this.adjustTimeForDate(result, {\n            timeAdjust: time\n          });\n        }\n\n        return result;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"denormalizeDate\",\n    value: function denormalizeDate(date) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          type = _ref2.type,\n          mask = _ref2.mask;\n\n      switch (type) {\n        case 'number':\n          return date ? date.getTime() : NaN;\n\n        case 'string':\n          return date ? this.format(date, mask || 'iso') : '';\n\n        default:\n          return date ? new Date(date) : null;\n      }\n    }\n  }, {\n    key: \"adjustTimeForDate\",\n    value: function adjustTimeForDate(date, _ref3) {\n      var timeAdjust = _ref3.timeAdjust;\n\n      if (timeAdjust) {\n        var dateParts = this.getDateParts(date);\n\n        if (timeAdjust === 'now') {\n          var timeParts = this.getDateParts(new Date());\n          dateParts.hours = timeParts.hours;\n          dateParts.minutes = timeParts.minutes;\n          dateParts.seconds = timeParts.seconds;\n          dateParts.milliseconds = timeParts.milliseconds;\n        } else {\n          var d = new Date(\"2000-01-01T\".concat(timeAdjust, \"Z\"));\n          dateParts.hours = d.getUTCHours();\n          dateParts.minutes = d.getUTCMinutes();\n          dateParts.seconds = d.getUTCSeconds();\n          dateParts.milliseconds = d.getUTCMilliseconds();\n        }\n\n        date = this.getDateFromParts(dateParts);\n      }\n\n      return date;\n    }\n  }, {\n    key: \"normalizeDates\",\n    value: function normalizeDates(dates, opts) {\n      opts = opts || {};\n      opts.locale = this; // Assign dates\n\n      return (isArrayLikeObject_1(dates) ? dates : [dates]).map(function (d) {\n        return d && (d instanceof DateInfo ? d : new DateInfo(d, opts));\n      }).filter(function (d) {\n        return d;\n      });\n    }\n  }, {\n    key: \"getDateParts\",\n    value: function getDateParts(date) {\n      var timezone = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.timezone;\n      if (!date) return null;\n      var tzDate = date;\n\n      if (timezone) {\n        var normDate = new Date(date.toLocaleString('en-US', {\n          timeZone: timezone\n        }));\n        normDate.setMilliseconds(date.getMilliseconds());\n        var diff = normDate.getTime() - date.getTime();\n        tzDate = new Date(date.getTime() + diff);\n      }\n\n      var milliseconds = tzDate.getMilliseconds();\n      var seconds = tzDate.getSeconds();\n      var minutes = tzDate.getMinutes();\n      var hours = tzDate.getHours();\n      var month = tzDate.getMonth() + 1;\n      var year = tzDate.getFullYear();\n      var comps = this.getMonthComps(month, year);\n      var day = tzDate.getDate();\n      var dayFromEnd = comps.days - day + 1;\n      var weekday = tzDate.getDay() + 1;\n      var weekdayOrdinal = Math.floor((day - 1) / 7 + 1);\n      var weekdayOrdinalFromEnd = Math.floor((comps.days - day) / 7 + 1);\n      var week = Math.ceil((day + Math.abs(comps.firstWeekday - comps.firstDayOfWeek)) / 7);\n      var weekFromEnd = comps.weeks - week + 1;\n      var parts = {\n        milliseconds: milliseconds,\n        seconds: seconds,\n        minutes: minutes,\n        hours: hours,\n        day: day,\n        dayFromEnd: dayFromEnd,\n        weekday: weekday,\n        weekdayOrdinal: weekdayOrdinal,\n        weekdayOrdinalFromEnd: weekdayOrdinalFromEnd,\n        week: week,\n        weekFromEnd: weekFromEnd,\n        month: month,\n        year: year,\n        date: date,\n        isValid: true\n      };\n      parts.timezoneOffset = this.getTimezoneOffset(parts);\n      return parts;\n    }\n  }, {\n    key: \"getDateFromParts\",\n    value: function getDateFromParts(parts) {\n      if (!parts) return null;\n      var d = new Date();\n      var _parts$year = parts.year,\n          year = _parts$year === void 0 ? d.getFullYear() : _parts$year,\n          _parts$month = parts.month,\n          month = _parts$month === void 0 ? d.getMonth() + 1 : _parts$month,\n          _parts$day = parts.day,\n          day = _parts$day === void 0 ? d.getDate() : _parts$day,\n          _parts$hours = parts.hours,\n          hrs = _parts$hours === void 0 ? 0 : _parts$hours,\n          _parts$minutes = parts.minutes,\n          min = _parts$minutes === void 0 ? 0 : _parts$minutes,\n          _parts$seconds = parts.seconds,\n          sec = _parts$seconds === void 0 ? 0 : _parts$seconds,\n          _parts$milliseconds = parts.milliseconds,\n          ms = _parts$milliseconds === void 0 ? 0 : _parts$milliseconds;\n\n      if (this.timezone) {\n        var dateString = \"\".concat(pad(year, 4), \"-\").concat(pad(month, 2), \"-\").concat(pad(day, 2), \"T\").concat(pad(hrs, 2), \":\").concat(pad(min, 2), \":\").concat(pad(sec, 2), \".\").concat(pad(ms, 3));\n        return toDate$1(dateString, {\n          timeZone: this.timezone\n        });\n      }\n\n      return new Date(year, month - 1, day, hrs, min, sec, ms);\n    }\n  }, {\n    key: \"getTimezoneOffset\",\n    value: function getTimezoneOffset(parts) {\n      var y = parts.year,\n          m = parts.month,\n          d = parts.day,\n          _parts$hours2 = parts.hours,\n          hrs = _parts$hours2 === void 0 ? 0 : _parts$hours2,\n          _parts$minutes2 = parts.minutes,\n          min = _parts$minutes2 === void 0 ? 0 : _parts$minutes2,\n          _parts$seconds2 = parts.seconds,\n          sec = _parts$seconds2 === void 0 ? 0 : _parts$seconds2,\n          _parts$milliseconds2 = parts.milliseconds,\n          ms = _parts$milliseconds2 === void 0 ? 0 : _parts$milliseconds2;\n      var date;\n      var utcDate = new Date(Date.UTC(y, m - 1, d, hrs, min, sec, ms));\n\n      if (this.timezone) {\n        var dateString = \"\".concat(pad(y, 4), \"-\").concat(pad(m, 2), \"-\").concat(pad(d, 2), \"T\").concat(pad(hrs, 2), \":\").concat(pad(min, 2), \":\").concat(pad(sec, 2), \".\").concat(pad(ms, 3));\n        date = toDate$1(dateString, {\n          timeZone: this.timezone\n        });\n      } else {\n        date = new Date(y, m - 1, d, hrs, min, sec, ms);\n      }\n\n      return (date - utcDate) / 60000;\n    }\n  }, {\n    key: \"toPage\",\n    value: function toPage(arg, fromPage) {\n      if (isNumber_1(arg)) {\n        return addPages(fromPage, arg);\n      }\n\n      if (isString_1(arg)) {\n        return this.getDateParts(this.normalizeDate(arg));\n      }\n\n      if (isDate(arg)) {\n        return this.getDateParts(arg);\n      }\n\n      if (isObject(arg)) {\n        return arg;\n      }\n\n      return null;\n    }\n  }, {\n    key: \"getMonthDates\",\n    value: function getMonthDates() {\n      var year = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 2000;\n      var dates = [];\n\n      for (var i = 0; i < 12; i++) {\n        dates.push(new Date(year, i, 15));\n      }\n\n      return dates;\n    }\n  }, {\n    key: \"getMonthNames\",\n    value: function getMonthNames(length) {\n      var dtf = new Intl.DateTimeFormat(this.id, {\n        month: length,\n        timezome: 'UTC'\n      });\n      return this.getMonthDates().map(function (d) {\n        return dtf.format(d);\n      });\n    }\n  }, {\n    key: \"getWeekdayDates\",\n    value: function getWeekdayDates() {\n      var firstDayOfWeek = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.firstDayOfWeek;\n      var dates = [];\n      var year = 2020;\n      var month = 1;\n      var day = 5 + firstDayOfWeek - 1;\n\n      for (var i = 0; i < daysInWeek; i++) {\n        dates.push(this.getDateFromParts({\n          year: year,\n          month: month,\n          day: day + i,\n          hours: 12\n        }));\n      }\n\n      return dates;\n    }\n  }, {\n    key: \"getDayNames\",\n    value: function getDayNames(length) {\n      var dtf = new Intl.DateTimeFormat(this.id, {\n        weekday: length,\n        timeZone: this.timezone\n      });\n      return this.getWeekdayDates(1).map(function (d) {\n        return dtf.format(d);\n      });\n    } // Days/month/year components for a given month and year\n\n  }, {\n    key: \"getMonthComps\",\n    value: function getMonthComps(month, year) {\n      var key = \"\".concat(month, \"-\").concat(year);\n      var comps = this.monthData[key];\n\n      if (!comps) {\n        var inLeapYear = year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n        var firstDayOfMonth = new Date(year, month - 1, 1);\n        var firstWeekday = firstDayOfMonth.getDay() + 1;\n        var days = month === 2 && inLeapYear ? 29 : daysInMonths[month - 1];\n        var weekStartsOn = this.firstDayOfWeek - 1;\n        var weeks = getWeeksInMonth(firstDayOfMonth, {\n          weekStartsOn: weekStartsOn\n        });\n        var weeknumbers = [];\n        var isoWeeknumbers = [];\n\n        for (var i = 0; i < weeks; i++) {\n          var date = addDays(firstDayOfMonth, i * 7);\n          weeknumbers.push(getWeek(date, {\n            weekStartsOn: weekStartsOn\n          }));\n          isoWeeknumbers.push(getISOWeek(date));\n        }\n\n        comps = {\n          firstDayOfWeek: this.firstDayOfWeek,\n          inLeapYear: inLeapYear,\n          firstWeekday: firstWeekday,\n          days: days,\n          weeks: weeks,\n          month: month,\n          year: year,\n          weeknumbers: weeknumbers,\n          isoWeeknumbers: isoWeeknumbers\n        };\n        this.monthData[key] = comps;\n      }\n\n      return comps;\n    } // Days/month/year components for today's month\n\n  }, {\n    key: \"getThisMonthComps\",\n    value: function getThisMonthComps() {\n      var _this$getDateParts = this.getDateParts(new Date()),\n          month = _this$getDateParts.month,\n          year = _this$getDateParts.year;\n\n      return this.getMonthComps(month, year);\n    } // Day/month/year components for previous month\n\n  }, {\n    key: \"getPrevMonthComps\",\n    value: function getPrevMonthComps(month, year) {\n      if (month === 1) return this.getMonthComps(12, year - 1);\n      return this.getMonthComps(month - 1, year);\n    } // Day/month/year components for next month\n\n  }, {\n    key: \"getNextMonthComps\",\n    value: function getNextMonthComps(month, year) {\n      if (month === 12) return this.getMonthComps(1, year + 1);\n      return this.getMonthComps(month + 1, year);\n    }\n  }, {\n    key: \"getDayId\",\n    value: function getDayId(date) {\n      return this.format(date, 'YYYY-MM-DD');\n    } // Builds day components for a given page\n\n  }, {\n    key: \"getCalendarDays\",\n    value: function getCalendarDays(_ref4) {\n      var _this4 = this;\n\n      var weeks = _ref4.weeks,\n          monthComps = _ref4.monthComps,\n          prevMonthComps = _ref4.prevMonthComps,\n          nextMonthComps = _ref4.nextMonthComps;\n      var days = [];\n      var firstDayOfWeek = monthComps.firstDayOfWeek,\n          firstWeekday = monthComps.firstWeekday,\n          isoWeeknumbers = monthComps.isoWeeknumbers,\n          weeknumbers = monthComps.weeknumbers;\n      var prevMonthDaysToShow = firstWeekday + (firstWeekday < firstDayOfWeek ? daysInWeek : 0) - firstDayOfWeek;\n      var prevMonth = true;\n      var thisMonth = false;\n      var nextMonth = false; // Formatter for aria labels\n\n      var formatter = new Intl.DateTimeFormat(this.id, {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      }); // Init counters with previous month's data\n\n      var day = prevMonthComps.days - prevMonthDaysToShow + 1;\n      var dayFromEnd = prevMonthComps.days - day + 1;\n      var weekdayOrdinal = Math.floor((day - 1) / daysInWeek + 1);\n      var weekdayOrdinalFromEnd = 1;\n      var week = prevMonthComps.weeks;\n      var weekFromEnd = 1;\n      var month = prevMonthComps.month;\n      var year = prevMonthComps.year; // Store todays comps\n\n      var today = new Date();\n      var todayDay = today.getDate();\n      var todayMonth = today.getMonth() + 1;\n      var todayYear = today.getFullYear();\n\n      var dft = function dft(y, m, d) {\n        return function (hours, minutes, seconds, milliseconds) {\n          return _this4.normalizeDate({\n            year: y,\n            month: m,\n            day: d,\n            hours: hours,\n            minutes: minutes,\n            seconds: seconds,\n            milliseconds: milliseconds\n          });\n        };\n      }; // Cycle through 6 weeks (max in month)\n\n\n      for (var w = 1; w <= weeks; w++) {\n        // Cycle through days in week\n        for (var i = 1, weekday = firstDayOfWeek; i <= daysInWeek; i++, weekday += weekday === daysInWeek ? 1 - daysInWeek : 1) {\n          // We need to know when to start counting actual month days\n          if (prevMonth && weekday === firstWeekday) {\n            // Reset counters for current month\n            day = 1;\n            dayFromEnd = monthComps.days;\n            weekdayOrdinal = Math.floor((day - 1) / daysInWeek + 1);\n            weekdayOrdinalFromEnd = Math.floor((monthComps.days - day) / daysInWeek + 1);\n            week = 1;\n            weekFromEnd = monthComps.weeks;\n            month = monthComps.month;\n            year = monthComps.year; // ...and flag we're tracking actual month days\n\n            prevMonth = false;\n            thisMonth = true;\n          } // Append day info for the current week\n          // Note: this might or might not be an actual month day\n          //  We don't know how the UI wants to display various days,\n          //  so we'll supply all the data we can\n\n\n          var dateFromTime = dft(year, month, day);\n          var range = {\n            start: dateFromTime(0, 0, 0),\n            end: dateFromTime(23, 59, 59, 999)\n          };\n          var date = range.start;\n          var id = \"\".concat(pad(year, 4), \"-\").concat(pad(month, 2), \"-\").concat(pad(day, 2));\n          var weekdayPosition = i;\n          var weekdayPositionFromEnd = daysInWeek - i;\n          var weeknumber = weeknumbers[w - 1];\n          var isoWeeknumber = isoWeeknumbers[w - 1];\n          var isToday = day === todayDay && month === todayMonth && year === todayYear;\n          var isFirstDay = thisMonth && day === 1;\n          var isLastDay = thisMonth && day === monthComps.days;\n          var onTop = w === 1;\n          var onBottom = w === weeks;\n          var onLeft = i === 1;\n          var onRight = i === daysInWeek;\n          days.push({\n            id: id,\n            label: day.toString(),\n            ariaLabel: formatter.format(new Date(year, month - 1, day)),\n            day: day,\n            dayFromEnd: dayFromEnd,\n            weekday: weekday,\n            weekdayPosition: weekdayPosition,\n            weekdayPositionFromEnd: weekdayPositionFromEnd,\n            weekdayOrdinal: weekdayOrdinal,\n            weekdayOrdinalFromEnd: weekdayOrdinalFromEnd,\n            week: week,\n            weekFromEnd: weekFromEnd,\n            weeknumber: weeknumber,\n            isoWeeknumber: isoWeeknumber,\n            month: month,\n            year: year,\n            dateFromTime: dateFromTime,\n            date: date,\n            range: range,\n            isToday: isToday,\n            isFirstDay: isFirstDay,\n            isLastDay: isLastDay,\n            inMonth: thisMonth,\n            inPrevMonth: prevMonth,\n            inNextMonth: nextMonth,\n            onTop: onTop,\n            onBottom: onBottom,\n            onLeft: onLeft,\n            onRight: onRight,\n            classes: [\"id-\".concat(id), \"day-\".concat(day), \"day-from-end-\".concat(dayFromEnd), \"weekday-\".concat(weekday), \"weekday-position-\".concat(weekdayPosition), \"weekday-ordinal-\".concat(weekdayOrdinal), \"weekday-ordinal-from-end-\".concat(weekdayOrdinalFromEnd), \"week-\".concat(week), \"week-from-end-\".concat(weekFromEnd), {\n              'is-today': isToday,\n              'is-first-day': isFirstDay,\n              'is-last-day': isLastDay,\n              'in-month': thisMonth,\n              'in-prev-month': prevMonth,\n              'in-next-month': nextMonth,\n              'on-top': onTop,\n              'on-bottom': onBottom,\n              'on-left': onLeft,\n              'on-right': onRight\n            }]\n          }); // See if we've hit the last day of the month\n\n          if (thisMonth && isLastDay) {\n            thisMonth = false;\n            nextMonth = true; // Reset counters to next month's data\n\n            day = 1;\n            dayFromEnd = nextMonthComps.days;\n            weekdayOrdinal = 1;\n            weekdayOrdinalFromEnd = Math.floor((nextMonthComps.days - day) / daysInWeek + 1);\n            week = 1;\n            weekFromEnd = nextMonthComps.weeks;\n            month = nextMonthComps.month;\n            year = nextMonthComps.year; // Still in the middle of the month (hasn't ended yet)\n          } else {\n            day++;\n            dayFromEnd--;\n            weekdayOrdinal = Math.floor((day - 1) / daysInWeek + 1);\n            weekdayOrdinalFromEnd = Math.floor((monthComps.days - day) / daysInWeek + 1);\n          }\n        } // Append week days\n\n\n        week++;\n        weekFromEnd--;\n      }\n\n      return days;\n    }\n  }]);\n\n  return Locale;\n}();\n\nvar Attribute = /*#__PURE__*/function () {\n  function Attribute(_ref, theme, locale) {\n    var key = _ref.key,\n        hashcode = _ref.hashcode,\n        highlight = _ref.highlight,\n        content = _ref.content,\n        dot = _ref.dot,\n        bar = _ref.bar,\n        popover = _ref.popover,\n        dates = _ref.dates,\n        excludeDates = _ref.excludeDates,\n        excludeMode = _ref.excludeMode,\n        customData = _ref.customData,\n        order = _ref.order,\n        pinPage = _ref.pinPage;\n\n    _classCallCheck(this, Attribute);\n\n    this.key = isUndefined_1(key) ? createGuid() : key;\n    this.hashcode = hashcode;\n    this.customData = customData;\n    this.order = order || 0;\n    this.dateOpts = {\n      order: order,\n      locale: locale\n    };\n    this.pinPage = pinPage; // Normalize attribute types\n\n    if (highlight) {\n      this.highlight = theme.normalizeHighlight(highlight);\n    }\n\n    if (content) {\n      this.content = theme.normalizeContent(content);\n    }\n\n    if (dot) {\n      this.dot = theme.normalizeDot(dot);\n    }\n\n    if (bar) {\n      this.bar = theme.normalizeBar(bar);\n    }\n\n    if (popover) {\n      this.popover = popover;\n    } // Assign dates\n\n\n    this.dates = locale.normalizeDates(dates, this.dateOpts);\n    this.hasDates = !!arrayHasItems(this.dates); // Assign exclude dates\n\n    this.excludeDates = locale.normalizeDates(excludeDates, this.dateOpts);\n    this.hasExcludeDates = !!arrayHasItems(this.excludeDates);\n    this.excludeMode = excludeMode || 'intersects'; // Add infinite date range if excluded dates exist\n\n    if (this.hasExcludeDates && !this.hasDates) {\n      this.dates.push(new DateInfo({}, this.dateOpts));\n      this.hasDates = true;\n    }\n\n    this.isComplex = some(this.dates, function (d) {\n      return d.isComplex;\n    });\n  } // Accepts: Date or date range object\n  // Returns: First date that partially intersects the given date\n\n\n  _createClass(Attribute, [{\n    key: \"intersectsDate\",\n    value: function intersectsDate(date) {\n      date = date instanceof DateInfo ? date : new DateInfo(date, this.dateOpts);\n      return !this.excludesDate(date) && (this.dates.find(function (d) {\n        return d.intersectsDate(date);\n      }) || false);\n    } // Accepts: Date or date range object\n    // Returns: First date that completely includes the given date\n\n  }, {\n    key: \"includesDate\",\n    value: function includesDate(date) {\n      date = date instanceof DateInfo ? date : new DateInfo(date, this.dateOpts);\n      return !this.excludesDate(date) && (this.dates.find(function (d) {\n        return d.includesDate(date);\n      }) || false);\n    }\n  }, {\n    key: \"excludesDate\",\n    value: function excludesDate(date) {\n      var _this = this;\n\n      date = date instanceof DateInfo ? date : new DateInfo(date, this.dateOpts);\n      return this.hasExcludeDates && this.excludeDates.find(function (ed) {\n        return _this.excludeMode === 'intersects' && ed.intersectsDate(date) || _this.excludeMode === 'includes' && ed.includesDate(date);\n      });\n    } // Accepts: Day object\n    // Returns: First attribute date info that occurs on given day.\n\n  }, {\n    key: \"intersectsDay\",\n    value: function intersectsDay(day) {\n      return !this.excludesDay(day) && (this.dates.find(function (d) {\n        return d.intersectsDay(day);\n      }) || false);\n    }\n  }, {\n    key: \"excludesDay\",\n    value: function excludesDay(day) {\n      return this.hasExcludeDates && this.excludeDates.find(function (ed) {\n        return ed.intersectsDay(day);\n      });\n    }\n  }]);\n\n  return Attribute;\n}();\n\nvar maxSwipeTime = 300;\nvar minHorizontalSwipeDistance = 60;\nvar maxVerticalSwipeDistance = 80;\nvar touch = {\n\tmaxSwipeTime: maxSwipeTime,\n\tminHorizontalSwipeDistance: minHorizontalSwipeDistance,\n\tmaxVerticalSwipeDistance: maxVerticalSwipeDistance\n};\n\nvar title = \"MMMM YYYY\";\nvar weekdays = \"W\";\nvar navMonths = \"MMM\";\nvar input = [\n\t\"L\",\n\t\"YYYY-MM-DD\",\n\t\"YYYY/MM/DD\"\n];\nvar inputDateTime = [\n\t\"L h:mm A\",\n\t\"YYYY-MM-DD h:mm A\",\n\t\"YYYY/MM/DD h:mm A\"\n];\nvar inputDateTime24hr = [\n\t\"L HH:mm\",\n\t\"YYYY-MM-DD HH:mm\",\n\t\"YYYY/MM/DD HH:mm\"\n];\nvar inputTime = [\n\t\"h:mm A\"\n];\nvar inputTime24hr = [\n\t\"HH:mm\"\n];\nvar dayPopover = \"WWW, MMM D, YYYY\";\nvar data = [\n\t\"L\",\n\t\"YYYY-MM-DD\",\n\t\"YYYY/MM/DD\"\n];\nvar model = \"iso\";\nvar iso = \"YYYY-MM-DDTHH:mm:ssXXX\";\nvar masks = {\n\ttitle: title,\n\tweekdays: weekdays,\n\tnavMonths: navMonths,\n\tinput: input,\n\tinputDateTime: inputDateTime,\n\tinputDateTime24hr: inputDateTime24hr,\n\tinputTime: inputTime,\n\tinputTime24hr: inputTime24hr,\n\tdayPopover: dayPopover,\n\tdata: data,\n\tmodel: model,\n\tiso: iso\n};\n\nvar sm = \"640px\";\nvar md = \"768px\";\nvar lg = \"1024px\";\nvar xl = \"1280px\";\nvar defaultScreens = {\n\tsm: sm,\n\tmd: md,\n\tlg: lg,\n\txl: xl\n};\n\nconst defaultConfig = {\r\n    componentPrefix: 'v',\r\n    color: 'blue',\r\n    isDark: false,\r\n    navVisibility: 'click',\r\n    titlePosition: 'center',\r\n    transition: 'slide-h',\r\n    touch,\r\n    masks,\r\n    screens: defaultScreens,\r\n    locales,\r\n    datePicker: {\r\n        updateOnInput: true,\r\n        inputDebounce: 1000,\r\n        popover: {\r\n            visibility: 'hover-focus',\r\n            placement: 'bottom-start',\r\n            keepVisibleOnInput: false,\r\n            isInteractive: true,\r\n        },\r\n    },\r\n};\r\nconst state = reactive(defaultConfig);\r\nconst computedLocales = computed(() => {\r\n    return mapValues_1(state.locales, (v) => {\r\n        v.masks = defaultsDeep_1(v.masks, state.masks);\r\n        return v;\r\n    });\r\n});\r\nconst getDefault = (path) => {\r\n    if (window && has(window.__vcalendar__, path)) {\r\n        return get_1(window.__vcalendar__, path);\r\n    }\r\n    return get_1(state, path);\r\n};\r\nconst setup = (userDefaults) => {\r\n    return defaultsDeep_1(state, userDefaults);\r\n};\n\nvar rootMixin = {\n  props: {\n    color: {\n      type: String,\n      default: getDefault('color')\n    },\n    isDark: {\n      type: Boolean,\n      default: getDefault('isDark')\n    },\n    firstDayOfWeek: Number,\n    masks: Object,\n    locale: [String, Object],\n    timezone: String,\n    minDate: null,\n    maxDate: null,\n    minDateExact: null,\n    maxDateExact: null,\n    disabledDates: null,\n    availableDates: null,\n    theme: null\n  },\n  computed: {\n    $theme: function $theme() {\n      // Return the theme prop if it is an instance of the Theme class\n      if (this.theme instanceof Theme) return this.theme; // Create the theme\n\n      return new Theme({\n        color: this.color,\n        isDark: this.isDark\n      });\n    },\n    $locale: function $locale() {\n      // Return the locale prop if it is an instance of the Locale class\n      if (this.locale instanceof Locale) return this.locale; // Build up a base config from component props\n\n      var config = isObject(this.locale) ? this.locale : {\n        id: this.locale,\n        firstDayOfWeek: this.firstDayOfWeek,\n        masks: this.masks\n      }; // Return new locale\n\n      return new Locale(config, {\n        locales: computedLocales.value,\n        timezone: this.timezone\n      });\n    },\n    disabledDates_: function disabledDates_() {\n      var dates = this.normalizeDates(this.disabledDates);\n      var minDate = this.minDate,\n          minDateExact = this.minDateExact,\n          maxDate = this.maxDate,\n          maxDateExact = this.maxDateExact; // Add disabled range for min date\n\n      if (minDateExact || minDate) {\n        var end = minDateExact ? this.normalizeDate(minDateExact) : this.normalizeDate(minDate, {\n          time: '00:00:00'\n        });\n        dates.push({\n          start: null,\n          end: new Date(end.getTime() - 1000)\n        });\n      } // Add disabled range for min date\n\n\n      if (maxDateExact || maxDate) {\n        var start = maxDateExact ? this.normalizeDate(maxDateExact) : this.normalizeDate(maxDate, {\n          time: '23:59:59'\n        });\n        dates.push({\n          start: new Date(start.getTime() + 1000),\n          end: null\n        });\n      }\n\n      return dates;\n    },\n    availableDates_: function availableDates_() {\n      return this.normalizeDates(this.availableDates);\n    },\n    disabledAttribute: function disabledAttribute() {\n      return new Attribute({\n        key: 'disabled',\n        dates: this.disabledDates_,\n        excludeDates: this.availableDates_,\n        excludeMode: 'includes',\n        order: 100\n      }, this.$theme, this.$locale);\n    }\n  },\n  // created() {\n  //   setupScreens(this.$defaults.screens);\n  // },\n  methods: {\n    formatDate: function formatDate(date, mask) {\n      return this.$locale ? this.$locale.format(date, mask) : '';\n    },\n    parseDate: function parseDate(text, mask) {\n      if (!this.$locale) return null;\n      var value = this.$locale.parse(text, mask);\n      return isDate(value) ? value : null;\n    },\n    normalizeDate: function normalizeDate(date, config) {\n      return this.$locale ? this.$locale.normalizeDate(date, config) : date;\n    },\n    normalizeDates: function normalizeDates(dates) {\n      return this.$locale.normalizeDates(dates, {\n        isFullDay: true\n      });\n    },\n    pageForDate: function pageForDate(date) {\n      return this.$locale.getDateParts(this.normalizeDate(date));\n    },\n    pageForThisMonth: function pageForThisMonth() {\n      return this.pageForDate(new Date());\n    }\n  }\n};\n\nvar slotMixin = {\n  methods: {\n    safeSlot: function safeSlot(name, args) {\n      var def = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      return isFunction_1(this.$slots[name]) ? this.$slots[name](args) : def;\n    }\n  }\n};\n\nvar childMixin$1 = childMixin;\nvar rootMixin$1 = rootMixin;\nvar slotMixin$1 = slotMixin;\n\nexport { Attribute as A, PATCH as P, isUndefined_1 as a, toDate as b, toInteger as c, defaultScreens as d, rootMixin$1 as e, slotMixin$1 as f, getDefault as g, isNumber_1 as h, isString_1 as i, addDays as j, childMixin$1 as k, mapValues_1 as m, requiredArgs as r, setup as s, toPairs_1 as t };\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport { styleInject as s };\n"],"names":["class","for","activeDayReference","inputValue","inputEvents","id","value","ref","activeDayMask","type","disabled","activeDayCountEnabled","activeDayCountFirst","activeDayCountCount","activeDayCountStride","min","activeDayCountWindow","attributes","onDayClick","s","daysBetween","to","from","Math","round","sortedIndex","array","date","low","high","length","mid","getTime","convertListToMask","list","rawMask","reduce","acc","curr","idx","arr","prev","concat","Array","fill","push","str","i","String","fromCharCode","parseInt","slice","reverse","join","btoa","components","Calendar","DatePicker","data","Date","toDateString","computed","atob","this","split","flatMap","c","charCodeAt","toString","padStart","map","d","error","activeDayList","newDate","setDate","getDate","activeDayCountList","startIndex","endIndex","maskIndex","sliceEnd","sliceStart","max","activeCount","a","b","key","highlight","color","fillMode","dates","start","end","dot","watch","$refs","setCustomValidity","methods","day","dateList","splice","render","toInteger","dirtyNumber","NaN","number","Number","isNaN","ceil","floor","requiredArgs","required","args","TypeError","toDate","argument","arguments","argStr","Object","prototype","call","console","warn","Error","stack","addDays","dirtyDate","dirtyAmount","amount","numberTag","isNumber","isNumber_1","stringTag","isString","isString_1","isUndefined","undefined","isUndefined_1","baseClamp","lower","upper","_baseClamp","NAN","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","valueOf","replace","isBinary","test","toNumber_1","clamp","clamp_1","set","object","path","set_1","mapValues","iteratee","result","mapValues_1","baseToPairs","props","_baseToPairs","setToPairs","index","size","forEach","_setToPairs","mapTag","setTag","createToPairs","keysFunc","tag","_createToPairs","toPairs","toPairs_1","childMixin","inject","masks","sharedState","theme","locale","dayPopoverId","format","mask","pageForDate","getDateParts","normalizeDate","targetProps","displayProps","defConfig","isDark","base","bar","content","Theme","config","assign","_ref","rootColor","root","normAttr","startEnd","_ref2","_ref3","targetType","targetConfig","targetColor","h","_this","normalizeAttr","_ref4","_ref5","style","getHighlightBgStyle","contentStyle","getHighlightContentStyle","_ref6","backgroundColor","border","borderColor","borderRadius","opacity","_ref7","fontWeight","_ref8","_ref9","normalizeNonHighlight","bgAccentHigh","contentAccent","styleFn","_this2","attr","_ref10","_ref11","MILLISECONDS_IN_MINUTE","getDateMillisecondsPart","getTimezoneOffsetInMilliseconds","baseTimezoneOffset","getTimezoneOffset","setSeconds","hasNegativeUTCOffset","millisecondsPartOfTimezoneOffset","tzTokenizeDate","timeZone","dtf","getDateTimeFormat","formatToParts","partsOffset","hackyOffset","typeToPos","year","month","hour","minute","second","formatted","filled","pos","parsed","exec","dtfCache","testDateFormatted","Intl","DateTimeFormat","hour12","hourCycleSupported","hourCycle","MILLISECONDS_IN_HOUR","MILLISECONDS_IN_MINUTE$1","patterns","timezone","timezoneZ","timezoneHH","timezoneHHMM","timezoneIANA","tzParseTimezone","timezoneString","token","absoluteOffset","hours","validateTimezone","minutes","tokens","asUTC","UTC","timestampWithMsZeroed","MILLISECONDS_IN_HOUR$1","MILLISECONDS_IN_MINUTE$2","DEFAULT_ADDITIONAL_DIGITS","patterns$1","dateTimeDelimeter","plainTime","timeZoneDelimeter","YY","YYY","YYYY","YYYYY","MM","DDD","MMDD","Www","WwwD","HH","HHMM","HHMMSS","toDate$1","dirtyOptions","options","additionalDigits","RangeError","dateStrings","splitDateString","parseYearResult","parseYear","restDateString","parseDate","offset","timestamp","time","parseTime","dateString","timeString","substr","patternYYY","patternYYYYY","yearString","centuryString","week","setUTCFullYear","validateDate","dayOfYear","validateDayOfYearDate","validateWeekDate","dayOfISOWeekYear","dayOfWeek","parseFloat","validateTime","seconds","isoWeekYear","fourthOfJanuaryDay","getUTCDay","diff","setUTCDate","getUTCDate","DAYS_IN_MONTH","DAYS_IN_MONTH_LEAP_YEAR","isLeapYearIndex","isLeapYear","startOfWeek","localeWeekStartsOn","weekStartsOn","defaultWeekStartsOn","getDay","setHours","startOfISOWeek","getISOWeekYear","getFullYear","fourthOfJanuaryOfNextYear","setFullYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","startOfISOWeekYear","fourthOfJanuary","MILLISECONDS_IN_WEEK","getISOWeek","getWeekYear","localeFirstWeekContainsDate","firstWeekContainsDate","defaultFirstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfWeekYear","firstWeek","MILLISECONDS_IN_WEEK$1","getWeek","MILLISECONDS_IN_WEEK$2","differenceInCalendarWeeks","dirtyDateLeft","dirtyDateRight","startOfWeekLeft","startOfWeekRight","timestampLeft","timestampRight","lastDayOfMonth","getMonth","startOfMonth","getWeeksInMonth","millisecondsPerDay","DateInfo","_ref$order","order","isFullDay","isDateInfo","Locale","firstDayOfWeek","startOn","endOn","opts","temp","span","startTime","endTime","isDate","isRange","andOpt","patternProps","assigned","on","and","target","or","o","opt","filter","isComplex","daysToAdd","d1","d2","diffInDays","getUTCFullYear","diffInYears","fn","state","finished","rangeShallowIntersectingRange","toDateInfo","date1","date2","dateShallowIntersectsDate","thisRange","toRange","otherRange","shallowIntersectsDate","range","iterateDatesInRange","matchesDay","dateShallowIncludesDate","shallowIncludesDate","_this3","testConfig","some","get","dateInfo","keys","every","k","dailyInterval","interval","di","weeklyInterval","diffInWeeks","monthlyInterval","diffInMonths","yearlyInterval","days","validate","includes","dayFromEnd","weekdays","weekday","ordinalWeekdays","obj","ck","find","weekdayOrdinal","weekdayOrdinalFromEnd","weekends","workweek","weeks","weekFromEnd","months","years","name","locales","ar","dow","L","bg","ca","hr","cs","da","nl","eo","et","fi","fr","de","he","it","ja","ko","lv","lt","mk","nb","nn","pl","pt","ro","ru","sk","sv","th","tr","uk","vi","en","es","no","zh","PATCH","DATE_TIME","DATE","TIME","PATCH_KEYS","twoDigits","threeDigits","fourDigits","word","literal","noop","monthUpdate","arrName","v","l","indexOf","charAt","toUpperCase","toLowerCase","maskMacros","daysInWeek","daysInMonths","formatFlags","D","DD","Do","DoFn","_d","dd","W","dayNamesNarrow","WW","dayNamesShorter","WWW","dayNamesShort","WWWW","dayNames","M","MMM","monthNamesShort","MMMM","monthNames","hh","H","m","mm","ss","S","milliseconds","SS","SSS","amPm","A","Z","ZZ","timezoneOffset","abs","ZZZ","ZZZZ","parseFlags","RegExp","source","cent","millisecond","val","isPm","parts","match","resolveConfig","detLocale","resolvedOptions","localeKeys","validKey","lk","substring","defLocale","_ref$locales","locales$1","_resolveConfig","getDayNames","getMonthNames","monthData","getMonthComps","bind","parse","toPage","normalizeMasks","literals","$0","$1","dateParts","shift","isValid","info","search","today","getDateFromParts","fillDate","patch","auto","adjustTimeForDate","timeAdjust","timeParts","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","tzDate","normDate","toLocaleString","setMilliseconds","getMilliseconds","getSeconds","getMinutes","getHours","comps","firstWeekday","_parts$year","_parts$month","_parts$day","_parts$hours","hrs","_parts$minutes","_parts$seconds","sec","_parts$milliseconds","ms","y","_parts$hours2","_parts$minutes2","_parts$seconds2","_parts$milliseconds2","utcDate","arg","fromPage","timezome","getMonthDates","getWeekdayDates","inLeapYear","firstDayOfMonth","weeknumbers","isoWeeknumbers","_this$getDateParts","_this4","monthComps","prevMonthComps","nextMonthComps","prevMonthDaysToShow","prevMonth","thisMonth","nextMonth","formatter","todayDay","todayMonth","todayYear","dft","w","dateFromTime","weekdayPosition","weekdayPositionFromEnd","weeknumber","isoWeeknumber","isToday","isFirstDay","isLastDay","onTop","onBottom","onLeft","onRight","label","ariaLabel","inMonth","inPrevMonth","inNextMonth","classes","Attribute","hashcode","popover","excludeDates","excludeMode","customData","pinPage","dateOpts","normalizeHighlight","normalizeContent","normalizeDot","normalizeBar","normalizeDates","hasDates","hasExcludeDates","excludesDate","intersectsDate","includesDate","ed","excludesDay","intersectsDay","maxSwipeTime","minHorizontalSwipeDistance","maxVerticalSwipeDistance","touch","title","navMonths","input","inputDateTime","inputDateTime24hr","inputTime","inputTime24hr","dayPopover","model","iso","sm","md","lg","xl","defaultScreens","defaultConfig","componentPrefix","navVisibility","titlePosition","transition","screens","datePicker","updateOnInput","inputDebounce","visibility","placement","keepVisibleOnInput","isInteractive","computedLocales","getDefault","window","__vcalendar__","g","rootMixin","default","Boolean","minDate","maxDate","minDateExact","maxDateExact","disabledDates","availableDates","$theme","$locale","disabledDates_","availableDates_","disabledAttribute","formatDate","text","pageForThisMonth","slotMixin","safeSlot","def","$slots","childMixin$1","rootMixin$1","slotMixin$1","styleInject","css","insertAt","document","head","getElementsByTagName","createElement","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode"],"sourceRoot":""}